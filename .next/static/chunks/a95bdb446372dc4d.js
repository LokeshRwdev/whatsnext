(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let s=r.forwardRef(({className:e,type:r,...s},l)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-bg px-3 py-2 text-sm ring-offset-bg file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...s}));s.displayName="Input",e.s(["Input",()=>s])},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},70065,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(47163);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-2xl border bg-card text-card-foreground shadow-sm",e),...r}));s.displayName="Card";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));l.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle",r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r})).displayName="CardDescription";let d=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));d.displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>d,"CardHeader",()=>l,"CardTitle",()=>i])},57801,e=>{"use strict";var t=e.i(43476);function r({children:e,title:r,subtitle:a}){return(0,t.jsxs)("section",{className:"flex flex-col h-full",children:[(r||a)&&(0,t.jsxs)("div",{className:"px-4 py-6 border-b",children:[r&&(0,t.jsx)("h1",{className:"text-2xl font-bold mb-1",children:r}),a&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:e})]})}e.s(["PageShell",()=>r])},72201,e=>{"use strict";let t=(0,e.i(75254).default)("battery",[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]]);e.s(["Battery",()=>t],72201)},83093,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(75254);let s=(0,a.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),l=(0,a.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),i=(0,a.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var d=e.i(70065),n=e.i(23750),c=e.i(67881),o=e.i(57801);function u({icon:e,title:r,description:a,action:s}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[(0,t.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,t.jsx)(e,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:r}),a&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-6 max-w-sm",children:a}),s&&(0,t.jsx)(c.Button,{onClick:s.onClick,children:s.label})]})}var x=e.i(72201);let m=(0,a.default)("battery-low",[["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M6 14v-4",key:"14a6bd"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]]),f=(0,a.default)("battery-medium",[["path",{d:"M10 14v-4",key:"suye4c"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M6 14v-4",key:"14a6bd"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]]);var p=e.i(47163);function h({percentage:e,className:r}){if(null===e)return null;let a=e>60?x.Battery:e>=30?f:m;return(0,t.jsxs)("div",{className:(0,p.cn)("inline-flex items-center gap-1.5 rounded-full px-3 py-1.5 text-sm font-medium","bg-muted/50",e>60?"text-green-600 dark:text-green-400":e>=30?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400",r),children:[(0,t.jsx)(a,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[e,"%"]})]})}var y=e.i(46897);function v({zoneName:e,geohash:r,className:a}){return e||r?(0,t.jsxs)("div",{className:(0,p.cn)("inline-flex items-center gap-1.5 rounded-full bg-muted px-3 py-1 text-xs font-medium text-muted-foreground",a),children:[(0,t.jsx)(y.MapPin,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:e||r})]}):null}var b=e.i(20755),g=e.i(1851);let j=(0,b.createBrowserSupabaseClient)();function N(){let[e,a]=(0,r.useState)([]),[x,m]=(0,r.useState)(!0),[f,p]=(0,r.useState)("");async function y(){try{let{data:e}=await j.from("ride_events").select("id,event_type,occurred_at,zone_id,battery_pct").order("occurred_at",{ascending:!1}).limit(50);a(e||[])}catch(e){console.error("Failed to load events",e)}finally{m(!1)}}(0,r.useEffect)(()=>{y()},[]);let b=e.filter(e=>e.event_type.toLowerCase().includes(f.toLowerCase()));return(0,t.jsx)(o.PageShell,{title:"Ride History",subtitle:"Your recent ride events",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(n.Input,{placeholder:"Search events...",value:f,onChange:e=>p(e.target.value),className:"pl-9"})]}),(0,t.jsx)(c.Button,{variant:"outline",size:"icon",children:(0,t.jsx)(i,{className:"h-4 w-4"})})]}),x?(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading..."}):0===b.length?(0,t.jsx)(u,{icon:s,title:"No events yet",description:"Your ride events will appear here"}):(0,t.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,t.jsx)(d.Card,{className:"p-4 hover:bg-muted/60 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"text-2xl",children:(e=>{switch(e){case"booking_received":return"ðŸš—";case"ride_started":return"â–¶ï¸";case"ride_completed":return"âœ…";case"booking_cancelled":return"âŒ";default:return"ðŸ“"}})(e.event_type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:(e=>{switch(e){case"booking_received":return"Booking Received";case"ride_started":return"Ride Started";case"ride_completed":return"Ride Completed";case"booking_cancelled":return"Cancelled";default:return e}})(e.event_type)}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,g.format)(new Date(e.occurred_at),"MMM d, yyyy Â· h:mm a")})]}),(0,t.jsx)(h,{percentage:e.battery_pct})]}),e.zone_id&&(0,t.jsx)(v,{zoneName:`Zone ${e.zone_id}`,className:"mt-2"})]})]})},e.id))})]})})}e.s(["default",()=>N],83093)}]);