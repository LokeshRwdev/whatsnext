(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(47163);let a=s.forwardRef(({className:e,type:s,...a},l)=>(0,t.jsx)("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-bg px-3 py-2 text-sm ring-offset-bg file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...a}));a.displayName="Input",e.s(["Input",()=>a])},70065,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(47163);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-2xl border bg-card text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let i=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle",s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let d=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>d,"CardHeader",()=>l,"CardTitle",()=>i])},57801,e=>{"use strict";var t=e.i(43476);function s({children:e,title:s,subtitle:r}){return(0,t.jsxs)("section",{className:"flex flex-col h-full",children:[(s||r)&&(0,t.jsxs)("div",{className:"px-4 py-6 border-b",children:[s&&(0,t.jsx)("h1",{className:"text-2xl font-bold mb-1",children:s}),r&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:r})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:e})]})}e.s(["PageShell",()=>s])},46897,e=>{"use strict";let t=(0,e.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["MapPin",()=>t],46897)},83093,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(75254);let a=(0,r.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),l=(0,r.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),i=(0,r.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var d=e.i(70065),n=e.i(23750),c=e.i(67881),o=e.i(57801);function u({icon:e,title:s,description:r,action:a}){return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[(0,t.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,t.jsx)(e,{className:"h-8 w-8 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:s}),r&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-6 max-w-sm",children:r}),a&&(0,t.jsx)(c.Button,{onClick:a.onClick,children:a.label})]})}var f=e.i(37619),m=e.i(46897),x=e.i(47163);function p({zoneName:e,geohash:s,className:r}){return e||s?(0,t.jsxs)("div",{className:(0,x.cn)("inline-flex items-center gap-1.5 rounded-full bg-muted px-3 py-1 text-xs font-medium text-muted-foreground",r),children:[(0,t.jsx)(m.MapPin,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:e||s})]}):null}var h=e.i(20755),v=e.i(1851);let j=(0,h.createBrowserSupabaseClient)();function y(){let[e,r]=(0,s.useState)([]),[m,x]=(0,s.useState)(!0),[h,y]=(0,s.useState)("");async function g(){try{let{data:e}=await j.from("ride_events").select("id,event_type,occurred_at,zone_id,battery_pct").order("occurred_at",{ascending:!1}).limit(50);r(e||[])}catch(e){console.error("Failed to load events",e)}finally{x(!1)}}(0,s.useEffect)(()=>{g()},[]);let N=e.filter(e=>e.event_type.toLowerCase().includes(h.toLowerCase()));return(0,t.jsx)(o.PageShell,{title:"Ride History",subtitle:"Your recent ride events",children:(0,t.jsxs)("div",{className:"p-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(n.Input,{placeholder:"Search events...",value:h,onChange:e=>y(e.target.value),className:"pl-9"})]}),(0,t.jsx)(c.Button,{variant:"outline",size:"icon",children:(0,t.jsx)(i,{className:"h-4 w-4"})})]}),m?(0,t.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading..."}):0===N.length?(0,t.jsx)(u,{icon:a,title:"No events yet",description:"Your ride events will appear here"}):(0,t.jsx)("div",{className:"space-y-3",children:N.map(e=>(0,t.jsx)(d.Card,{className:"p-4 hover:bg-muted/60 transition-colors",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"text-2xl",children:(e=>{switch(e){case"booking_received":return"ðŸš—";case"ride_started":return"â–¶ï¸";case"ride_completed":return"âœ…";case"booking_cancelled":return"âŒ";default:return"ðŸ“"}})(e.event_type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:(e=>{switch(e){case"booking_received":return"Booking Received";case"ride_started":return"Ride Started";case"ride_completed":return"Ride Completed";case"booking_cancelled":return"Cancelled";default:return e}})(e.event_type)}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,v.format)(new Date(e.occurred_at),"MMM d, yyyy Â· h:mm a")})]}),(0,t.jsx)(f.BatteryChip,{percentage:e.battery_pct})]}),e.zone_id&&(0,t.jsx)(p,{zoneName:`Zone ${e.zone_id}`,className:"mt-2"})]})]})},e.id))})]})})}e.s(["default",()=>y],83093)}]);