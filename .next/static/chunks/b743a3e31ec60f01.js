(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,66149,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(75254);let l=(0,a.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),r=(0,a.default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var i=e.i(72201);let d=(0,a.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var n=e.i(67881),c=e.i(70065),o=e.i(23750),h=e.i(57801);let u=(0,a.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),m=(0,a.default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function x(){let[e,a]=(0,t.useState)(!1),[l,r]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=window.matchMedia("(display-mode: standalone)").matches,s=localStorage.getItem("pwa-hint-dismissed");e||s||a(!0);let t=e=>{e.preventDefault(),r(e),a(!0)};return window.addEventListener("beforeinstallprompt",t),()=>window.removeEventListener("beforeinstallprompt",t)},[]);let i=async()=>{if(!l)return;l.prompt();let{outcome:e}=await l.userChoice;"accepted"===e&&a(!1),r(null)};return e?(0,s.jsxs)(c.Card,{className:"fixed bottom-20 left-4 right-4 md:left-auto md:right-4 md:w-80 p-4 z-50 shadow-lg",children:[(0,s.jsx)("button",{onClick:()=>{a(!1),localStorage.setItem("pwa-hint-dismissed","true")},className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground","aria-label":"Dismiss",children:(0,s.jsx)(m,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"rounded-full bg-primary/10 p-2",children:(0,s.jsx)(u,{className:"h-5 w-5 text-primary"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold text-sm mb-1",children:"Install App"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"Add to your home screen for quick access while driving"}),(0,s.jsx)(n.Button,{size:"sm",onClick:i,className:"w-full",children:"Install Now"})]})]})]}):null}var p=e.i(4421),f=e.i(15940),g=e.i(46696),j=e.i(18566);function y(){let e=(0,j.useRouter)(),a=(0,p.useAppStore)(e=>e.chargeThreshold),u=(0,p.useAppStore)(e=>e.setChargeThreshold),m=(0,p.useAppStore)(e=>e.preferCharger),y=(0,p.useAppStore)(e=>e.setPreferCharger),[v,N]=(0,t.useState)(null);(0,t.useState)(()=>{f.supabase.auth.getUser().then(({data:e})=>N(e.user))});let b=async()=>{await f.supabase.auth.signOut(),g.toast.success("Signed out successfully"),e.push("/login")};return(0,s.jsx)(h.PageShell,{title:"Settings",subtitle:"Manage your preferences",children:(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)(c.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(r,{className:"h-5 w-5"}),"Profile"]})}),(0,s.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium mb-1 block",children:"Email"}),(0,s.jsx)(o.Input,{value:v?.email||"",disabled:!0})]}),(0,s.jsxs)(n.Button,{variant:"destructive",onClick:b,className:"w-full",children:[(0,s.jsx)(l,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)(c.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(i.Battery,{className:"h-5 w-5"}),"EV Settings"]})}),(0,s.jsxs)(c.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"text-sm font-medium mb-2 block",children:["Low Battery Threshold: ",a,"%"]}),(0,s.jsx)(o.Input,{type:"range",min:"10",max:"50",value:a,onChange:e=>u(Number(e.target.value)),className:"w-full"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Show charger recommendations below this level"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium",children:"Prefer Charger Zones"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Prioritize zones near charging stations"})]}),(0,s.jsx)(n.Button,{variant:m?"default":"outline",size:"sm",onClick:()=>y(!m),children:m?"ON":"OFF"})]})]})]}),(0,s.jsxs)(c.Card,{children:[(0,s.jsx)(c.CardHeader,{children:(0,s.jsxs)(c.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,s.jsx)(d,{className:"h-5 w-5"}),"Privacy"]})}),(0,s.jsx)(c.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"All your ride data is protected by Row-Level Security (RLS). Only you can access your events and location history."})})]}),(0,s.jsx)(x,{})]})})}e.s(["default",()=>y],66149)}]);