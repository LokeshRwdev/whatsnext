{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lokes/Desktop/projects/whatsnext/lib/zod-schemas.ts"],"sourcesContent":["import { z } from \"zod\";\r\nimport { extendZodWithOpenApi, OpenAPIRegistry } from \"@asteasolutions/zod-to-openapi\";\r\n\r\nextendZodWithOpenApi(z);\r\n\r\n// Initialize OpenAPI Registry\r\nexport const registry = new OpenAPIRegistry();\r\n\r\n// ===== Base Schemas =====\r\n\r\nexport const ApiErrorSchema = z.object({\r\n  error: z.string(),\r\n  details: z.any().optional(),\r\n});\r\n\r\nexport const HealthSchema = z.object({\r\n  ok: z.boolean(),\r\n  time: z.string().datetime(),\r\n});\r\n\r\n// ===== Event Types =====\r\nexport const RideEventTypeSchema = z.enum([\r\n  \"booking_received\",\r\n  \"ride_started\",\r\n  \"ride_completed\",\r\n  \"booking_cancelled\",\r\n]);\r\n\r\n// ===== Entity Schemas =====\r\n\r\nexport const ZoneSchema = z.object({\r\n  id: z.string().uuid(),\r\n  name: z.string(),\r\n  geohash6: z.string().nullable(),\r\n  is_airport: z.boolean(),\r\n  is_charger: z.boolean(),\r\n  meta: z.record(z.any()).nullable(),\r\n});\r\n\r\nexport const RideEventSchema = z.object({\r\n  id: z.string().uuid(),\r\n  driver_id: z.string().uuid(),\r\n  event_type: RideEventTypeSchema,\r\n  occurred_at: z.string().datetime(),\r\n  zone_id: z.string().uuid().nullable(),\r\n  geohash6: z.string().nullable(),\r\n  battery_pct: z.number().min(0).max(100).nullable(),\r\n  created_at: z.string().datetime(),\r\n});\r\n\r\nexport const ZoneVisitSchema = z.object({\r\n  id: z.string().uuid(),\r\n  driver_id: z.string().uuid(),\r\n  zone_id: z.string().uuid(),\r\n  arrived_at: z.string().datetime(),\r\n  left_at: z.string().datetime().nullable(),\r\n  context: z.record(z.any()).nullable(),\r\n  created_at: z.string().datetime(),\r\n});\r\n\r\nexport const PingSchema = z.object({\r\n  id: z.string().uuid(),\r\n  driver_id: z.string().uuid(),\r\n  ts: z.string().datetime(),\r\n  lat: z.number(),\r\n  lon: z.number(),\r\n  speed_kmh: z.number().nullable(),\r\n  battery_pct: z.number().min(0).max(100).nullable(),\r\n  created_at: z.string().datetime(),\r\n});\r\n\r\nexport const ChargeSchema = z.object({\r\n  id: z.string().uuid(),\r\n  driver_id: z.string().uuid(),\r\n  station_zone: z.string().uuid().nullable(),\r\n  start_at: z.string().datetime(),\r\n  end_at: z.string().datetime().nullable(),\r\n  kwh: z.number().nullable(),\r\n  cost_inr: z.number().nullable(),\r\n  created_at: z.string().datetime(),\r\n});\r\n\r\nexport const CityEventSchema = z.object({\r\n  id: z.string().uuid(),\r\n  name: z.string(),\r\n  category: z.string().nullable(),\r\n  venue_zone: z.string().uuid(),\r\n  start_at: z.string().datetime(),\r\n  end_at: z.string().datetime(),\r\n  impact_score: z.number().nullable(),\r\n  created_at: z.string().datetime(),\r\n});\r\n\r\n// ===== Request Schemas =====\r\n\r\nexport const CreateRideEventReq = z.object({\r\n  event_type: RideEventTypeSchema,\r\n  occurred_at: z.string().datetime().optional(),\r\n  lat: z.number().nullable().optional(),\r\n  lon: z.number().nullable().optional(),\r\n  battery_pct: z.number().min(0).max(100).nullable().optional(),\r\n});\r\n\r\nexport const CreateZoneVisitReq = z.object({\r\n  zone_id: z.string().uuid(),\r\n  arrived_at: z.string().datetime().optional(),\r\n  context: z.record(z.any()).optional(),\r\n});\r\n\r\nexport const UpdateZoneVisitReq = z.object({\r\n  left_at: z.string().datetime(),\r\n});\r\n\r\nexport const CreatePingReq = z.object({\r\n  ts: z.string().datetime().optional(),\r\n  lat: z.number(),\r\n  lon: z.number(),\r\n  speed_kmh: z.number().nullable().optional(),\r\n  battery_pct: z.number().min(0).max(100).nullable().optional(),\r\n});\r\n\r\nexport const CreateChargeReq = z.object({\r\n  station_zone: z.string().uuid().nullable().optional(),\r\n  start_at: z.string().datetime().optional(),\r\n  end_at: z.string().datetime().nullable().optional(),\r\n  kwh: z.number().nullable().optional(),\r\n  cost_inr: z.number().nullable().optional(),\r\n});\r\n\r\nexport const AdminZoneReq = z.object({\r\n  name: z.string(),\r\n  lat: z.number(),\r\n  lon: z.number(),\r\n  is_airport: z.boolean().optional(),\r\n  is_charger: z.boolean().optional(),\r\n  meta: z.record(z.any()).optional(),\r\n});\r\n\r\nexport const AdminEventReq = z.object({\r\n  name: z.string(),\r\n  category: z.string().optional(),\r\n  venue_zone: z.string().uuid(),\r\n  start_at: z.string().datetime(),\r\n  end_at: z.string().datetime(),\r\n  impact_score: z.number().optional(),\r\n});\r\n\r\n// ===== Response Schemas =====\r\n\r\nexport const DataResponseSchema = <T extends z.ZodType>(dataSchema: T) =>\r\n  z.object({\r\n    data: dataSchema,\r\n  });\r\n\r\nexport const CreatedResponseSchema = z.object({\r\n  data: z.object({\r\n    created: z.boolean(),\r\n    id: z.string().uuid().optional(),\r\n  }),\r\n});\r\n\r\nexport const RecommendationSchema = z.object({\r\n  zone_id: z.string().uuid(),\r\n  zone_name: z.string(),\r\n  score: z.number(),\r\n  reason: z.string(),\r\n});\r\n\r\nexport const WeatherSchema = z.object({\r\n  hour: z.string().datetime(),\r\n  temp_c: z.number().nullable(),\r\n  humidity: z.number().nullable(),\r\n  wind_kmh: z.number().nullable(),\r\n  rain_mm: z.number().nullable(),\r\n});\r\n\r\nexport const AirportWaveSchema = z.object({\r\n  bucket: z.string(),\r\n  arrival_wave: z.number().nullable(),\r\n  departure_wave: z.number().nullable(),\r\n});\r\n\r\nexport const HotspotSchema = z.object({\r\n  zone_id: z.string().uuid(),\r\n  bucket: z.string(),\r\n  popularity_index: z.number(),\r\n});\r\n\r\n// ===== Register Components =====\r\n\r\nregistry.register(\"ApiError\", ApiErrorSchema.openapi(\"ApiError\"));\r\nregistry.register(\"Health\", HealthSchema.openapi(\"Health\"));\r\nregistry.register(\"Zone\", ZoneSchema.openapi(\"Zone\"));\r\nregistry.register(\"RideEvent\", RideEventSchema.openapi(\"RideEvent\"));\r\nregistry.register(\"ZoneVisit\", ZoneVisitSchema.openapi(\"ZoneVisit\"));\r\nregistry.register(\"Ping\", PingSchema.openapi(\"Ping\"));\r\nregistry.register(\"Charge\", ChargeSchema.openapi(\"Charge\"));\r\nregistry.register(\"CityEvent\", CityEventSchema.openapi(\"CityEvent\"));\r\nregistry.register(\"Recommendation\", RecommendationSchema.openapi(\"Recommendation\"));\r\nregistry.register(\"Weather\", WeatherSchema.openapi(\"Weather\"));\r\nregistry.register(\"AirportWave\", AirportWaveSchema.openapi(\"AirportWave\"));\r\nregistry.register(\"Hotspot\", HotspotSchema.openapi(\"Hotspot\"));\r\n\r\nregistry.register(\"CreateRideEventReq\", CreateRideEventReq.openapi(\"CreateRideEventReq\"));\r\nregistry.register(\"CreateZoneVisitReq\", CreateZoneVisitReq.openapi(\"CreateZoneVisitReq\"));\r\nregistry.register(\"UpdateZoneVisitReq\", UpdateZoneVisitReq.openapi(\"UpdateZoneVisitReq\"));\r\nregistry.register(\"CreatePingReq\", CreatePingReq.openapi(\"CreatePingReq\"));\r\nregistry.register(\"CreateChargeReq\", CreateChargeReq.openapi(\"CreateChargeReq\"));\r\nregistry.register(\"AdminZoneReq\", AdminZoneReq.openapi(\"AdminZoneReq\"));\r\nregistry.register(\"AdminEventReq\", AdminEventReq.openapi(\"AdminEventReq\"));\r\n\r\n// ===== Register Paths =====\r\n\r\n// Health\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/health\",\r\n  tags: [\"System\"],\r\n  summary: \"Health check\",\r\n  responses: {\r\n    200: {\r\n      description: \"System is healthy\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(HealthSchema),\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Zones\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/zones\",\r\n  tags: [\"Zones\"],\r\n  summary: \"List all zones\",\r\n  security: [{ bearerAuth: [] }],\r\n  responses: {\r\n    200: {\r\n      description: \"List of zones\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(z.array(ZoneSchema)),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Ride Events\r\nregistry.registerPath({\r\n  method: \"post\",\r\n  path: \"/api/ride-events\",\r\n  tags: [\"Ride Events\"],\r\n  summary: \"Create a ride event\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreateRideEventReq,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    201: {\r\n      description: \"Ride event created\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreatedResponseSchema,\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/ride-events\",\r\n  tags: [\"Ride Events\"],\r\n  summary: \"List own ride events\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    query: z.object({\r\n      limit: z.string().optional(),\r\n    }),\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"List of ride events\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(z.array(RideEventSchema)),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/ride-events/{id}\",\r\n  tags: [\"Ride Events\"],\r\n  summary: \"Get a ride event by ID\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    params: z.object({\r\n      id: z.string().uuid(),\r\n    }),\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"Ride event details\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(RideEventSchema),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    404: {\r\n      description: \"Not found\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Zone Visits\r\nregistry.registerPath({\r\n  method: \"post\",\r\n  path: \"/api/zone-visits\",\r\n  tags: [\"Zone Visits\"],\r\n  summary: \"Create a zone visit\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreateZoneVisitReq,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    201: {\r\n      description: \"Zone visit created\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreatedResponseSchema,\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/zone-visits\",\r\n  tags: [\"Zone Visits\"],\r\n  summary: \"List own zone visits\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    query: z.object({\r\n      limit: z.string().optional(),\r\n    }),\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"List of zone visits\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(z.array(ZoneVisitSchema)),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"patch\",\r\n  path: \"/api/zone-visits/{id}\",\r\n  tags: [\"Zone Visits\"],\r\n  summary: \"Update zone visit left_at\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    params: z.object({\r\n      id: z.string().uuid(),\r\n    }),\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: UpdateZoneVisitReq,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"Zone visit updated\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(ZoneVisitSchema),\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    404: {\r\n      description: \"Not found\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Pings\r\nregistry.registerPath({\r\n  method: \"post\",\r\n  path: \"/api/pings\",\r\n  tags: [\"Tracking\"],\r\n  summary: \"Create a GPS ping\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreatePingReq,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    201: {\r\n      description: \"Ping created\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreatedResponseSchema,\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Charges\r\nregistry.registerPath({\r\n  method: \"post\",\r\n  path: \"/api/charges\",\r\n  tags: [\"Charges\"],\r\n  summary: \"Create a charge record\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreateChargeReq,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    201: {\r\n      description: \"Charge created\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreatedResponseSchema,\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/charges\",\r\n  tags: [\"Charges\"],\r\n  summary: \"List own charges\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    query: z.object({\r\n      limit: z.string().optional(),\r\n    }),\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"List of charges\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(z.array(ChargeSchema)),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Context APIs\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/context/weather\",\r\n  tags: [\"Context\"],\r\n  summary: \"Get latest weather observation\",\r\n  security: [{ bearerAuth: [] }],\r\n  responses: {\r\n    200: {\r\n      description: \"Latest weather data\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(WeatherSchema.nullable()),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/context/airport-wave\",\r\n  tags: [\"Context\"],\r\n  summary: \"Get current airport wave data\",\r\n  security: [{ bearerAuth: [] }],\r\n  responses: {\r\n    200: {\r\n      description: \"Airport wave data\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(z.array(AirportWaveSchema)),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/context/hotspot\",\r\n  tags: [\"Context\"],\r\n  summary: \"Get zone hotspot popularity\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    query: z.object({\r\n      zone_id: z.string().uuid().optional(),\r\n      bucket: z.string().optional(),\r\n    }),\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"Hotspot data\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(HotspotSchema.nullable()),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Recommendations\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/recommendations/next-spot\",\r\n  tags: [\"Recommendations\"],\r\n  summary: \"Get next recommended spot\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    query: z.object({\r\n      lat: z.string().optional(),\r\n      lon: z.string().optional(),\r\n    }),\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"Recommended zones\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(z.array(RecommendationSchema)),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Admin - Zones\r\nregistry.registerPath({\r\n  method: \"post\",\r\n  path: \"/api/admin/zones\",\r\n  tags: [\"Admin\"],\r\n  summary: \"Create a zone (admin only)\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: AdminZoneReq,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    201: {\r\n      description: \"Zone created\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreatedResponseSchema,\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    403: {\r\n      description: \"Forbidden - admin only\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"get\",\r\n  path: \"/api/admin/zones\",\r\n  tags: [\"Admin\"],\r\n  summary: \"List all zones (admin)\",\r\n  security: [{ bearerAuth: [] }],\r\n  responses: {\r\n    200: {\r\n      description: \"List of zones\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(z.array(ZoneSchema)),\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    403: {\r\n      description: \"Forbidden - admin only\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"patch\",\r\n  path: \"/api/admin/zones/{id}\",\r\n  tags: [\"Admin\"],\r\n  summary: \"Update a zone (admin only)\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    params: z.object({\r\n      id: z.string().uuid(),\r\n    }),\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: AdminZoneReq.partial(),\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"Zone updated\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(ZoneSchema),\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    403: {\r\n      description: \"Forbidden - admin only\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    404: {\r\n      description: \"Not found\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Admin - Events\r\nregistry.registerPath({\r\n  method: \"post\",\r\n  path: \"/api/admin/events\",\r\n  tags: [\"Admin\"],\r\n  summary: \"Create a city event (admin only)\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: AdminEventReq,\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    201: {\r\n      description: \"Event created\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: CreatedResponseSchema,\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    403: {\r\n      description: \"Forbidden - admin only\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nregistry.registerPath({\r\n  method: \"patch\",\r\n  path: \"/api/admin/events/{id}\",\r\n  tags: [\"Admin\"],\r\n  summary: \"Update a city event (admin only)\",\r\n  security: [{ bearerAuth: [] }],\r\n  request: {\r\n    params: z.object({\r\n      id: z.string().uuid(),\r\n    }),\r\n    body: {\r\n      content: {\r\n        \"application/json\": {\r\n          schema: AdminEventReq.partial(),\r\n        },\r\n      },\r\n    },\r\n  },\r\n  responses: {\r\n    200: {\r\n      description: \"Event updated\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: DataResponseSchema(CityEventSchema),\r\n        },\r\n      },\r\n    },\r\n    400: {\r\n      description: \"Validation error\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    401: {\r\n      description: \"Unauthorized\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    403: {\r\n      description: \"Forbidden - admin only\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n    404: {\r\n      description: \"Not found\",\r\n      content: {\r\n        \"application/json\": {\r\n          schema: ApiErrorSchema,\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lokes/Desktop/projects/whatsnext/lib/openapi.ts"],"sourcesContent":["import { OpenApiGeneratorV31 } from \"@asteasolutions/zod-to-openapi\";\r\nimport { registry } from \"./zod-schemas\";\r\n\r\nexport function getOpenAPIDocument() {\r\n  const generator = new OpenApiGeneratorV31(registry.definitions);\r\n\r\n  const document = generator.generateDocument({\r\n    openapi: \"3.1.0\",\r\n    info: {\r\n      title: \"Patna EV Co-Pilot API\",\r\n      version: \"1.0.0\",\r\n      description:\r\n        \"REST API for the Patna EV Co-Pilot driver assistance application. Provides endpoints for ride event tracking, zone management, context data, and recommendations.\",\r\n    },\r\n    servers: [\r\n      {\r\n        url: \"/\",\r\n        description: \"Current server\",\r\n      },\r\n    ],\r\n  });\r\n\r\n  // Add security schemes after generation\r\n  if (!document.components) {\r\n    document.components = {};\r\n  }\r\n  document.components.securitySchemes = {\r\n    bearerAuth: {\r\n      type: \"http\",\r\n      scheme: \"bearer\",\r\n      bearerFormat: \"JWT\",\r\n      description: \"Supabase JWT token from authentication\",\r\n    },\r\n  };\r\n\r\n  return document;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IACd,MAAM,YAAY,IAAI,mMAAmB,CAAC,mIAAQ,CAAC,WAAW;IAE9D,MAAM,WAAW,UAAU,gBAAgB,CAAC;QAC1C,SAAS;QACT,MAAM;YACJ,OAAO;YACP,SAAS;YACT,aACE;QACJ;QACA,SAAS;YACP;gBACE,KAAK;gBACL,aAAa;YACf;SACD;IACH;IAEA,wCAAwC;IACxC,IAAI,CAAC,SAAS,UAAU,EAAE;QACxB,SAAS,UAAU,GAAG,CAAC;IACzB;IACA,SAAS,UAAU,CAAC,eAAe,GAAG;QACpC,YAAY;YACV,MAAM;YACN,QAAQ;YACR,cAAc;YACd,aAAa;QACf;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1192, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lokes/Desktop/projects/whatsnext/app/api/openapi/route.ts"],"sourcesContent":["import { getOpenAPIDocument } from \"@/lib/openapi\";\r\n\r\nexport async function GET() {\r\n  const document = getOpenAPIDocument();\r\n  return Response.json(document);\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe;IACpB,MAAM,WAAW,IAAA,sIAAkB;IACnC,OAAO,SAAS,IAAI,CAAC;AACvB","debugId":null}}]
}