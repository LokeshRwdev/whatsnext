{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lokes/Desktop/projects/whatsnext/app/%28driver%29/DriverHomeClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(driver)/DriverHomeClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(driver)/DriverHomeClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lokes/Desktop/projects/whatsnext/app/%28driver%29/DriverHomeClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(driver)/DriverHomeClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(driver)/DriverHomeClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lokes/Desktop/projects/whatsnext/lib/supabase/config.ts"],"sourcesContent":["const isServer = () => typeof window === \"undefined\";\n\nfunction readEnv(key: string) {\n  try {\n    return process.env[key];\n  } catch {\n    return undefined;\n  }\n}\n\nexport function getSupabaseConfig() {\n  const url = isServer()\n    ? readEnv(\"SUPABASE_URL\") ?? readEnv(\"NEXT_PUBLIC_SUPABASE_URL\")\n    : readEnv(\"NEXT_PUBLIC_SUPABASE_URL\");\n  const anonKey = isServer()\n    ? readEnv(\"SUPABASE_ANON_KEY\") ?? readEnv(\"NEXT_PUBLIC_SUPABASE_ANON_KEY\")\n    : readEnv(\"NEXT_PUBLIC_SUPABASE_ANON_KEY\");\n\n  if (!url) {\n    throw new Error(\"Missing SUPABASE_URL/NEXT_PUBLIC_SUPABASE_URL environment variable\");\n  }\n  if (!anonKey) {\n    throw new Error(\"Missing SUPABASE_ANON_KEY/NEXT_PUBLIC_SUPABASE_ANON_KEY environment variable\");\n  }\n\n  return { url, anonKey };\n}\n"],"names":[],"mappings":";;;;AAAA,MAAM,WAAW,IAAM,kDAAkB;AAEzC,SAAS,QAAQ,GAAW;IAC1B,IAAI;QACF,OAAO,QAAQ,GAAG,CAAC,IAAI;IACzB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS;IACd,MAAM,MAAM,aACR,QAAQ,mBAAmB,QAAQ,8BACnC;IACJ,MAAM,UAAU,aACZ,QAAQ,wBAAwB,QAAQ,mCACxC;IAEJ,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IACA,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;QAAE;QAAK;IAAQ;AACxB","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lokes/Desktop/projects/whatsnext/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient, type SupabaseClient } from \"@supabase/ssr\";\nimport type { User as SupabaseUser } from \"@supabase/supabase-js\";\nimport { cookies } from \"next/headers\";\nimport { getSupabaseConfig } from \"./config\";\nimport type { AppUser, DriverProfile } from \"./types\";\n\nexport type { AppUser, DriverProfile } from \"./types\";\n\nfunction mapUser(user: SupabaseUser | null): AppUser | null {\n  if (!user) return null;\n  return {\n    id: user.id,\n    email: user.email ?? null,\n    fullName: (user.user_metadata as Record<string, any> | null)?.full_name ?? null,\n  };\n}\n\nexport async function createServerSupabaseClient() {\n  const { url, anonKey } = getSupabaseConfig();\n  const cookieStore = cookies();\n\n  const supabase = createServerClient(url, anonKey, {\n    cookies: {\n      get(name: string) {\n        return cookieStore.get(name)?.value;\n      },\n      set(name: string, value: string, options: any) {\n        const mutableStore = cookieStore as unknown as {\n          set?: (options: { name: string; value: string } & Record<string, any>) => void;\n        };\n        mutableStore.set?.({ name, value, ...options });\n      },\n      remove(name: string, options: any) {\n        const mutableStore = cookieStore as unknown as {\n          set?: (options: { name: string; value: string } & Record<string, any>) => void;\n        };\n        mutableStore.set?.({ name, value: \"\", ...options, maxAge: 0 });\n      },\n    },\n  });\n\n  const {\n    data: { user },\n    error,\n  } = await supabase.auth.getUser();\n\n  if (error && error.message !== \"Auth session missing!\") {\n    console.warn(\"[supabase] auth.getUser failed\", error);\n  }\n\n  return {\n    supabase,\n    user: mapUser(user),\n  };\n}\n\nexport async function loadProfile(supabase: SupabaseClient, userId: string) {\n  const { data, error } = await supabase\n    .from(\"profiles\")\n    .select(\"id,full_name,created_at\")\n    .eq(\"id\", userId)\n    .maybeSingle();\n\n  if (error && error.code !== \"PGRST116\") {\n    console.warn(\"[supabase] failed to load profile\", { userId, error });\n    return null;\n  }\n\n  return (data ?? null) as DriverProfile | null;\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AAEA;AACA;;;;AAKA,SAAS,QAAQ,IAAyB;IACxC,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO;QACL,IAAI,KAAK,EAAE;QACX,OAAO,KAAK,KAAK,IAAI;QACrB,UAAU,AAAC,KAAK,aAAa,EAAiC,aAAa;IAC7E;AACF;AAEO,eAAe;IACpB,MAAM,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,IAAA,8IAAiB;IAC1C,MAAM,cAAc,IAAA,0IAAO;IAE3B,MAAM,WAAW,IAAA,+LAAkB,EAAC,KAAK,SAAS;QAChD,SAAS;YACP,KAAI,IAAY;gBACd,OAAO,YAAY,GAAG,CAAC,OAAO;YAChC;YACA,KAAI,IAAY,EAAE,KAAa,EAAE,OAAY;gBAC3C,MAAM,eAAe;gBAGrB,aAAa,GAAG,GAAG;oBAAE;oBAAM;oBAAO,GAAG,OAAO;gBAAC;YAC/C;YACA,QAAO,IAAY,EAAE,OAAY;gBAC/B,MAAM,eAAe;gBAGrB,aAAa,GAAG,GAAG;oBAAE;oBAAM,OAAO;oBAAI,GAAG,OAAO;oBAAE,QAAQ;gBAAE;YAC9D;QACF;IACF;IAEA,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,KAAK,EACN,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,IAAI,SAAS,MAAM,OAAO,KAAK,yBAAyB;QACtD,QAAQ,IAAI,CAAC,kCAAkC;IACjD;IAEA,OAAO;QACL;QACA,MAAM,QAAQ;IAChB;AACF;AAEO,eAAe,YAAY,QAAwB,EAAE,MAAc;IACxE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAC3B,IAAI,CAAC,YACL,MAAM,CAAC,2BACP,EAAE,CAAC,MAAM,QACT,WAAW;IAEd,IAAI,SAAS,MAAM,IAAI,KAAK,YAAY;QACtC,QAAQ,IAAI,CAAC,qCAAqC;YAAE;YAAQ;QAAM;QAClE,OAAO;IACT;IAEA,OAAQ,QAAQ;AAClB","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Lokes/Desktop/projects/whatsnext/app/%28driver%29/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\";\nimport DriverHomeClient from \"./DriverHomeClient\";\nimport { createServerSupabaseClient } from \"@/lib/supabase/server\";\n\nexport default async function DriverHomePage() {\n  const { user } = await createServerSupabaseClient();\n  if (!user) {\n    redirect(\"/login\");\n  }\n  return <DriverHomeClient />;\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,uJAA0B;IACjD,IAAI,CAAC,MAAM;QACT,IAAA,iMAAQ,EAAC;IACX;IACA,qBAAO,8OAAC,iJAAgB;;;;;AAC1B","debugId":null}}]
}