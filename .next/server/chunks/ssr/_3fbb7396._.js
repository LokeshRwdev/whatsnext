module.exports=[5522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-bg px-3 py-2 text-sm ring-offset-bg file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},3130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-2xl border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("text-2xl font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c})).displayName="CardDescription";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));h.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},91838,a=>{"use strict";var b=a.i(87924);function c({children:a,title:c,subtitle:d}){return(0,b.jsxs)("section",{className:"flex flex-col h-full",children:[(c||d)&&(0,b.jsxs)("div",{className:"px-4 py-6 border-b",children:[c&&(0,b.jsx)("h1",{className:"text-2xl font-bold mb-1",children:c}),d&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:d})]}),(0,b.jsx)("div",{className:"flex-1 overflow-auto",children:a})]})}a.s(["PageShell",()=>c])},22144,a=>{"use strict";let b=(0,a.i(70106).default)("battery",[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]]);a.s(["Battery",()=>b],22144)},70493,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(70106);let e=(0,d.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),f=(0,d.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),g=(0,d.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var h=a.i(3130),i=a.i(5522),j=a.i(40695),k=a.i(91838);function l({icon:a,title:c,description:d,action:e}){return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[(0,b.jsx)("div",{className:"rounded-full bg-muted p-4 mb-4",children:(0,b.jsx)(a,{className:"h-8 w-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:c}),d&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-6 max-w-sm",children:d}),e&&(0,b.jsx)(j.Button,{onClick:e.onClick,children:e.label})]})}var m=a.i(22144);let n=(0,d.default)("battery-low",[["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M6 14v-4",key:"14a6bd"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]]),o=(0,d.default)("battery-medium",[["path",{d:"M10 14v-4",key:"suye4c"}],["path",{d:"M22 14v-4",key:"14q9d5"}],["path",{d:"M6 14v-4",key:"14a6bd"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]]);var p=a.i(97895);function q({percentage:a,className:c}){if(null===a)return null;let d=a>60?m.Battery:a>=30?o:n;return(0,b.jsxs)("div",{className:(0,p.cn)("inline-flex items-center gap-1.5 rounded-full px-3 py-1.5 text-sm font-medium","bg-muted/50",a>60?"text-green-600 dark:text-green-400":a>=30?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400",c),children:[(0,b.jsx)(d,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[a,"%"]})]})}var r=a.i(24987);function s({zoneName:a,geohash:c,className:d}){return a||c?(0,b.jsxs)("div",{className:(0,p.cn)("inline-flex items-center gap-1.5 rounded-full bg-muted px-3 py-1 text-xs font-medium text-muted-foreground",d),children:[(0,b.jsx)(r.MapPin,{className:"h-3 w-3"}),(0,b.jsx)("span",{children:a||c})]}):null}var t=a.i(69240),u=a.i(56711);let v=(0,t.createBrowserSupabaseClient)();function w(){let[a,d]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)("");async function r(){try{let{data:a}=await v.from("ride_events").select("id,event_type,occurred_at,zone_id,battery_pct").order("occurred_at",{ascending:!1}).limit(50);d(a||[])}catch(a){console.error("Failed to load events",a)}finally{n(!1)}}(0,c.useEffect)(()=>{r()},[]);let t=a.filter(a=>a.event_type.toLowerCase().includes(o.toLowerCase()));return(0,b.jsx)(k.PageShell,{title:"Ride History",subtitle:"Your recent ride events",children:(0,b.jsxs)("div",{className:"p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(f,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(i.Input,{placeholder:"Search events...",value:o,onChange:a=>p(a.target.value),className:"pl-9"})]}),(0,b.jsx)(j.Button,{variant:"outline",size:"icon",children:(0,b.jsx)(g,{className:"h-4 w-4"})})]}),m?(0,b.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Loading..."}):0===t.length?(0,b.jsx)(l,{icon:e,title:"No events yet",description:"Your ride events will appear here"}):(0,b.jsx)("div",{className:"space-y-3",children:t.map(a=>(0,b.jsx)(h.Card,{className:"p-4 hover:bg-muted/60 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"text-2xl",children:(a=>{switch(a){case"booking_received":return"ðŸš—";case"ride_started":return"â–¶ï¸";case"ride_completed":return"âœ…";case"booking_cancelled":return"âŒ";default:return"ðŸ“"}})(a.event_type)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:(a=>{switch(a){case"booking_received":return"Booking Received";case"ride_started":return"Ride Started";case"ride_completed":return"Ride Completed";case"booking_cancelled":return"Cancelled";default:return a}})(a.event_type)}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,u.format)(new Date(a.occurred_at),"MMM d, yyyy Â· h:mm a")})]}),(0,b.jsx)(q,{percentage:a.battery_pct})]}),a.zone_id&&(0,b.jsx)(s,{zoneName:`Zone ${a.zone_id}`,className:"mt-2"})]})]})},a.id))})]})})}a.s(["default",()=>w],70493)}];

//# sourceMappingURL=_3fbb7396._.js.map