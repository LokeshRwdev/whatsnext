{"version":3,"sources":["turbopack:///[project]/node_modules/@swc/helpers/cjs/_interop_require_default.cjs","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/head-manager-context.ts","turbopack:///[project]/node_modules/next/src/client/set-attributes-from-props.ts","turbopack:///[project]/node_modules/next/src/client/request-idle-callback.ts","turbopack:///[project]/node_modules/next/src/client/script.tsx","turbopack:///[project]/node_modules/next/script.js","turbopack:///[project]/lib/tracking/store.ts","turbopack:///[project]/node_modules/date-fns/constructNow.js","turbopack:///[project]/node_modules/date-fns/formatDistance.js","turbopack:///[project]/node_modules/date-fns/compareAsc.js","turbopack:///[project]/components/NextZonesPanel.tsx","turbopack:///[project]/components/TrafficPreviewMap.tsx","turbopack:///[project]/components/RideControls.tsx","turbopack:///[project]/components/GpsAccuracyBadge.tsx","turbopack:///[project]/lib/hooks/useDriverState.ts","turbopack:///[project]/node_modules/idb/build/index.js","turbopack:///[project]/hooks/useLiveTracking.ts","turbopack:///[project]/lib/hooks/useDriverProfile.ts","turbopack:///[project]/app/(driver)/DriverHomeClient.tsx","turbopack:///[project]/node_modules/date-fns/_lib/getRoundingMethod.js","turbopack:///[project]/lib/offline-queue.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/arrow-up-right.ts","turbopack:///[project]/node_modules/date-fns/isLastDayOfMonth.js","turbopack:///[project]/node_modules/date-fns/differenceInMilliseconds.js","turbopack:///[project]/node_modules/date-fns/differenceInMonths.js","turbopack:///[project]/node_modules/date-fns/endOfDay.js","turbopack:///[project]/node_modules/date-fns/differenceInCalendarMonths.js","turbopack:///[project]/node_modules/date-fns/endOfMonth.js","turbopack:///[project]/node_modules/date-fns/differenceInSeconds.js","turbopack:///[project]/node_modules/date-fns/formatDistanceToNow.js"],"sourcesContent":["\"use strict\";\n\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nexports._ = _interop_require_default;\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HeadManagerContext\n","const DOMAttributeNames: Record<string, string> = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv',\n  noModule: 'noModule',\n}\n\nconst ignoreProps = [\n  'onLoad',\n  'onReady',\n  'dangerouslySetInnerHTML',\n  'children',\n  'onError',\n  'strategy',\n  'stylesheets',\n]\n\nfunction isBooleanScriptAttribute(\n  attr: string\n): attr is 'async' | 'defer' | 'noModule' {\n  return ['async', 'defer', 'noModule'].includes(attr)\n}\n\nexport function setAttributesFromProps(el: HTMLElement, props: object) {\n  for (const [p, value] of Object.entries(props)) {\n    if (!props.hasOwnProperty(p)) continue\n    if (ignoreProps.includes(p)) continue\n\n    // we don't render undefined props to the DOM\n    if (value === undefined) {\n      continue\n    }\n\n    const attr = DOMAttributeNames[p] || p.toLowerCase()\n\n    if (el.tagName === 'SCRIPT' && isBooleanScriptAttribute(attr)) {\n      // Correctly assign boolean script attributes\n      // https://github.com/vercel/next.js/pull/20748\n      ;(el as HTMLScriptElement)[attr] = !!value\n    } else {\n      el.setAttribute(attr, String(value))\n    }\n\n    // Remove falsy non-zero boolean attributes so they are correctly interpreted\n    // (e.g. if we set them to false, this coerces to the string \"false\", which the browser interprets as true)\n    if (\n      value === false ||\n      (el.tagName === 'SCRIPT' &&\n        isBooleanScriptAttribute(attr) &&\n        (!value || value === 'false'))\n    ) {\n      // Call setAttribute before, as we need to set and unset the attribute to override force async:\n      // https://html.spec.whatwg.org/multipage/scripting.html#script-force-async\n      el.setAttribute(attr, '')\n      el.removeAttribute(attr)\n    }\n  }\n}\n","export const requestIdleCallback =\n  (typeof self !== 'undefined' &&\n    self.requestIdleCallback &&\n    self.requestIdleCallback.bind(window)) ||\n  function (cb: IdleRequestCallback): number {\n    let start = Date.now()\n    return self.setTimeout(function () {\n      cb({\n        didTimeout: false,\n        timeRemaining: function () {\n          return Math.max(0, 50 - (Date.now() - start))\n        },\n      })\n    }, 1)\n  }\n\nexport const cancelIdleCallback =\n  (typeof self !== 'undefined' &&\n    self.cancelIdleCallback &&\n    self.cancelIdleCallback.bind(window)) ||\n  function (id: number) {\n    return clearTimeout(id)\n  }\n","'use client'\n\nimport ReactDOM from 'react-dom'\nimport React, { useEffect, useContext, useRef, type JSX } from 'react'\nimport type { ScriptHTMLAttributes } from 'react'\nimport { HeadManagerContext } from '../shared/lib/head-manager-context.shared-runtime'\nimport { setAttributesFromProps } from './set-attributes-from-props'\nimport { requestIdleCallback } from './request-idle-callback'\n\nconst ScriptCache = new Map()\nconst LoadCache = new Set()\n\nexport interface ScriptProps extends ScriptHTMLAttributes<HTMLScriptElement> {\n  strategy?: 'afterInteractive' | 'lazyOnload' | 'beforeInteractive' | 'worker'\n  id?: string\n  onLoad?: (e: any) => void\n  onReady?: () => void | null\n  onError?: (e: any) => void\n  children?: React.ReactNode\n  stylesheets?: string[]\n}\n\n/**\n * @deprecated Use `ScriptProps` instead.\n */\nexport type Props = ScriptProps\n\nconst insertStylesheets = (stylesheets: string[]) => {\n  // Case 1: Styles for afterInteractive/lazyOnload with appDir injected via handleClientScriptLoad\n  //\n  // Using ReactDOM.preinit to feature detect appDir and inject styles\n  // Stylesheets might have already been loaded if initialized with Script component\n  // Re-inject styles here to handle scripts loaded via handleClientScriptLoad\n  // ReactDOM.preinit handles dedup and ensures the styles are loaded only once\n  if (ReactDOM.preinit) {\n    stylesheets.forEach((stylesheet: string) => {\n      ReactDOM.preinit(stylesheet, { as: 'style' })\n    })\n\n    return\n  }\n\n  // Case 2: Styles for afterInteractive/lazyOnload with pages injected via handleClientScriptLoad\n  //\n  // We use this function to load styles when appdir is not detected\n  // TODO: Use React float APIs to load styles once available for pages dir\n  if (typeof window !== 'undefined') {\n    let head = document.head\n    stylesheets.forEach((stylesheet: string) => {\n      let link = document.createElement('link')\n\n      link.type = 'text/css'\n      link.rel = 'stylesheet'\n      link.href = stylesheet\n\n      head.appendChild(link)\n    })\n  }\n}\n\nconst loadScript = (props: ScriptProps): void => {\n  const {\n    src,\n    id,\n    onLoad = () => {},\n    onReady = null,\n    dangerouslySetInnerHTML,\n    children = '',\n    strategy = 'afterInteractive',\n    onError,\n    stylesheets,\n  } = props\n\n  const cacheKey = id || src\n\n  // Script has already loaded\n  if (cacheKey && LoadCache.has(cacheKey)) {\n    return\n  }\n\n  // Contents of this script are already loading/loaded\n  if (ScriptCache.has(src)) {\n    LoadCache.add(cacheKey)\n    // It is possible that multiple `next/script` components all have same \"src\", but has different \"onLoad\"\n    // This is to make sure the same remote script will only load once, but \"onLoad\" are executed in order\n    ScriptCache.get(src).then(onLoad, onError)\n    return\n  }\n\n  /** Execute after the script first loaded */\n  const afterLoad = () => {\n    // Run onReady for the first time after load event\n    if (onReady) {\n      onReady()\n    }\n    // add cacheKey to LoadCache when load successfully\n    LoadCache.add(cacheKey)\n  }\n\n  const el = document.createElement('script')\n\n  const loadPromise = new Promise<void>((resolve, reject) => {\n    el.addEventListener('load', function (e) {\n      resolve()\n      if (onLoad) {\n        onLoad.call(this, e)\n      }\n      afterLoad()\n    })\n    el.addEventListener('error', function (e) {\n      reject(e)\n    })\n  }).catch(function (e) {\n    if (onError) {\n      onError(e)\n    }\n  })\n\n  if (dangerouslySetInnerHTML) {\n    // Casting since lib.dom.d.ts doesn't have TrustedHTML yet.\n    el.innerHTML = (dangerouslySetInnerHTML.__html as string) || ''\n\n    afterLoad()\n  } else if (children) {\n    el.textContent =\n      typeof children === 'string'\n        ? children\n        : Array.isArray(children)\n          ? children.join('')\n          : ''\n\n    afterLoad()\n  } else if (src) {\n    el.src = src\n    // do not add cacheKey into LoadCache for remote script here\n    // cacheKey will be added to LoadCache when it is actually loaded (see loadPromise above)\n\n    ScriptCache.set(src, loadPromise)\n  }\n\n  setAttributesFromProps(el, props)\n\n  if (strategy === 'worker') {\n    el.setAttribute('type', 'text/partytown')\n  }\n\n  el.setAttribute('data-nscript', strategy)\n\n  // Load styles associated with this script\n  if (stylesheets) {\n    insertStylesheets(stylesheets)\n  }\n\n  document.body.appendChild(el)\n}\n\nexport function handleClientScriptLoad(props: ScriptProps) {\n  const { strategy = 'afterInteractive' } = props\n  if (strategy === 'lazyOnload') {\n    window.addEventListener('load', () => {\n      requestIdleCallback(() => loadScript(props))\n    })\n  } else {\n    loadScript(props)\n  }\n}\n\nfunction loadLazyScript(props: ScriptProps) {\n  if (document.readyState === 'complete') {\n    requestIdleCallback(() => loadScript(props))\n  } else {\n    window.addEventListener('load', () => {\n      requestIdleCallback(() => loadScript(props))\n    })\n  }\n}\n\nfunction addBeforeInteractiveToCache() {\n  const scripts = [\n    ...document.querySelectorAll('[data-nscript=\"beforeInteractive\"]'),\n    ...document.querySelectorAll('[data-nscript=\"beforePageRender\"]'),\n  ]\n  scripts.forEach((script) => {\n    const cacheKey = script.id || script.getAttribute('src')\n    LoadCache.add(cacheKey)\n  })\n}\n\nexport function initScriptLoader(scriptLoaderItems: ScriptProps[]) {\n  scriptLoaderItems.forEach(handleClientScriptLoad)\n  addBeforeInteractiveToCache()\n}\n\n/**\n * Load a third-party scripts in an optimized way.\n *\n * Read more: [Next.js Docs: `next/script`](https://nextjs.org/docs/app/api-reference/components/script)\n */\nfunction Script(props: ScriptProps): JSX.Element | null {\n  const {\n    id,\n    src = '',\n    onLoad = () => {},\n    onReady = null,\n    strategy = 'afterInteractive',\n    onError,\n    stylesheets,\n    ...restProps\n  } = props\n\n  // Context is available only during SSR\n  let { updateScripts, scripts, getIsSsr, appDir, nonce } =\n    useContext(HeadManagerContext)\n\n  // if a nonce is explicitly passed to the script tag, favor that over the automatic handling\n  nonce = restProps.nonce || nonce\n\n  /**\n   * - First mount:\n   *   1. The useEffect for onReady executes\n   *   2. hasOnReadyEffectCalled.current is false, but the script hasn't loaded yet (not in LoadCache)\n   *      onReady is skipped, set hasOnReadyEffectCalled.current to true\n   *   3. The useEffect for loadScript executes\n   *   4. hasLoadScriptEffectCalled.current is false, loadScript executes\n   *      Once the script is loaded, the onLoad and onReady will be called by then\n   *   [If strict mode is enabled / is wrapped in <OffScreen /> component]\n   *   5. The useEffect for onReady executes again\n   *   6. hasOnReadyEffectCalled.current is true, so entire effect is skipped\n   *   7. The useEffect for loadScript executes again\n   *   8. hasLoadScriptEffectCalled.current is true, so entire effect is skipped\n   *\n   * - Second mount:\n   *   1. The useEffect for onReady executes\n   *   2. hasOnReadyEffectCalled.current is false, but the script has already loaded (found in LoadCache)\n   *      onReady is called, set hasOnReadyEffectCalled.current to true\n   *   3. The useEffect for loadScript executes\n   *   4. The script is already loaded, loadScript bails out\n   *   [If strict mode is enabled / is wrapped in <OffScreen /> component]\n   *   5. The useEffect for onReady executes again\n   *   6. hasOnReadyEffectCalled.current is true, so entire effect is skipped\n   *   7. The useEffect for loadScript executes again\n   *   8. hasLoadScriptEffectCalled.current is true, so entire effect is skipped\n   */\n  const hasOnReadyEffectCalled = useRef(false)\n\n  useEffect(() => {\n    const cacheKey = id || src\n    if (!hasOnReadyEffectCalled.current) {\n      // Run onReady if script has loaded before but component is re-mounted\n      if (onReady && cacheKey && LoadCache.has(cacheKey)) {\n        onReady()\n      }\n\n      hasOnReadyEffectCalled.current = true\n    }\n  }, [onReady, id, src])\n\n  const hasLoadScriptEffectCalled = useRef(false)\n\n  useEffect(() => {\n    if (!hasLoadScriptEffectCalled.current) {\n      if (strategy === 'afterInteractive') {\n        loadScript(props)\n      } else if (strategy === 'lazyOnload') {\n        loadLazyScript(props)\n      }\n\n      hasLoadScriptEffectCalled.current = true\n    }\n  }, [props, strategy])\n\n  if (strategy === 'beforeInteractive' || strategy === 'worker') {\n    if (updateScripts) {\n      scripts[strategy] = (scripts[strategy] || []).concat([\n        {\n          id,\n          src,\n          onLoad,\n          onReady,\n          onError,\n          ...restProps,\n          nonce,\n        },\n      ])\n      updateScripts(scripts)\n    } else if (getIsSsr && getIsSsr()) {\n      // Script has already loaded during SSR\n      LoadCache.add(id || src)\n    } else if (getIsSsr && !getIsSsr()) {\n      loadScript({\n        ...props,\n        nonce,\n      })\n    }\n  }\n\n  // For the app directory, we need React Float to preload these scripts.\n  if (appDir) {\n    // Injecting stylesheets here handles beforeInteractive and worker scripts correctly\n    // For other strategies injecting here ensures correct stylesheet order\n    // ReactDOM.preinit handles loading the styles in the correct order,\n    // also ensures the stylesheet is loaded only once and in a consistent manner\n    //\n    // Case 1: Styles for beforeInteractive/worker with appDir - handled here\n    // Case 2: Styles for beforeInteractive/worker with pages dir - Not handled yet\n    // Case 3: Styles for afterInteractive/lazyOnload with appDir - handled here\n    // Case 4: Styles for afterInteractive/lazyOnload with pages dir - handled in insertStylesheets function\n    if (stylesheets) {\n      stylesheets.forEach((styleSrc) => {\n        ReactDOM.preinit(styleSrc, { as: 'style' })\n      })\n    }\n\n    // Before interactive scripts need to be loaded by Next.js' runtime instead\n    // of native <script> tags, because they no longer have `defer`.\n    if (strategy === 'beforeInteractive') {\n      if (!src) {\n        // For inlined scripts, we put the content in `children`.\n        if (restProps.dangerouslySetInnerHTML) {\n          // Casting since lib.dom.d.ts doesn't have TrustedHTML yet.\n          restProps.children = restProps.dangerouslySetInnerHTML\n            .__html as string\n          delete restProps.dangerouslySetInnerHTML\n        }\n\n        return (\n          <script\n            nonce={nonce}\n            dangerouslySetInnerHTML={{\n              __html: `(self.__next_s=self.__next_s||[]).push(${JSON.stringify([\n                0,\n                { ...restProps, id },\n              ])})`,\n            }}\n          />\n        )\n      } else {\n        // @ts-ignore\n        ReactDOM.preload(\n          src,\n          restProps.integrity\n            ? {\n                as: 'script',\n                integrity: restProps.integrity,\n                nonce,\n                crossOrigin: restProps.crossOrigin,\n              }\n            : { as: 'script', nonce, crossOrigin: restProps.crossOrigin }\n        )\n        return (\n          <script\n            nonce={nonce}\n            dangerouslySetInnerHTML={{\n              __html: `(self.__next_s=self.__next_s||[]).push(${JSON.stringify([\n                src,\n                { ...restProps, id },\n              ])})`,\n            }}\n          />\n        )\n      }\n    } else if (strategy === 'afterInteractive') {\n      if (src) {\n        // @ts-ignore\n        ReactDOM.preload(\n          src,\n          restProps.integrity\n            ? {\n                as: 'script',\n                integrity: restProps.integrity,\n                nonce,\n                crossOrigin: restProps.crossOrigin,\n              }\n            : { as: 'script', nonce, crossOrigin: restProps.crossOrigin }\n        )\n      }\n    }\n  }\n\n  return null\n}\n\nObject.defineProperty(Script, '__nextScript', { value: true })\n\nexport default Script\n","module.exports = require('./dist/client/script')\n","\"use client\";\n\nimport { create } from \"zustand\";\nimport type { RecommendationResponse } from \"@/lib/api-client\";\n\nexport type PermissionStateMaybe = PermissionState | \"prompt\" | \"unsupported\";\n\nexport type TrackingFix = {\n  lat: number;\n  lon: number;\n  accuracy?: number | null;\n  speed?: number | null;\n  timestamp: number;\n};\n\ninterface TrackingState {\n  trackingOn: boolean;\n  permissionStatus: PermissionStateMaybe;\n  lastFix: TrackingFix | null;\n  lastPingAt: string | null;\n  lastRecommendation: RecommendationResponse | null;\n  error: string | null;\n  isDriving: boolean;\n  autoStartPending: boolean;\n  setTrackingOn: (next: boolean) => void;\n  setPermissionStatus: (status: PermissionStateMaybe) => void;\n  setLastFix: (fix: TrackingFix | null) => void;\n  setLastPingAt: (iso: string | null) => void;\n  setRecommendation: (rec: RecommendationResponse | null) => void;\n  setError: (message: string | null) => void;\n  setIsDriving: (next: boolean) => void;\n  setAutoStartPending: (pending: boolean) => void;\n}\n\nexport const useTrackingStore = create<TrackingState>((set) => ({\n  trackingOn: false,\n  permissionStatus: \"prompt\",\n  lastFix: null,\n  lastPingAt: null,\n  lastRecommendation: null,\n  error: null,\n  isDriving: false,\n  autoStartPending: true,\n  setTrackingOn: (trackingOn) => set({ trackingOn }),\n  setPermissionStatus: (permissionStatus) => set({ permissionStatus }),\n  setLastFix: (lastFix) => set({ lastFix }),\n  setLastPingAt: (lastPingAt) => set({ lastPingAt }),\n  setRecommendation: (lastRecommendation) => set({ lastRecommendation }),\n  setError: (error) => set({ error }),\n  setIsDriving: (isDriving) =>\n    set(() => ({\n      isDriving,\n      autoStartPending: isDriving ? false : true,\n    })),\n  setAutoStartPending: (autoStartPending) => set({ autoStartPending }),\n}));\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name constructNow\n * @category Generic Helpers\n * @summary Constructs a new current date using the passed value constructor.\n * @pure false\n *\n * @description\n * The function constructs a new current date using the constructor from\n * the reference date. It helps to build generic functions that accept date\n * extensions and use the current date.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @param date - The reference date to take constructor from\n *\n * @returns Current date initialized using the given date constructor\n *\n * @example\n * import { constructNow, isSameDay } from 'date-fns'\n *\n * function isToday<DateType extends Date>(\n *   date: DateArg<DateType>,\n * ): boolean {\n *   // If we were to use `new Date()` directly, the function would  behave\n *   // differently in different timezones and return false for the same date.\n *   return isSameDay(date, constructNow(date));\n * }\n */\nexport function constructNow(date) {\n  return constructFrom(date, Date.now());\n}\n\n// Fallback for modularized imports:\nexport default constructNow;\n","import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { compareAsc } from \"./compareAsc.js\";\nimport { minutesInDay, minutesInMonth } from \"./constants.js\";\nimport { differenceInMonths } from \"./differenceInMonths.js\";\nimport { differenceInSeconds } from \"./differenceInSeconds.js\";\n\n/**\n * The {@link formatDistance} function options.\n */\n\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @param laterDate - The date\n * @param earlierDate - The date to compare with\n * @param options - An object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `baseDate` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistance(laterDate, earlierDate, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n  const minutesInAlmostTwoDays = 2520;\n\n  const comparison = compareAsc(laterDate, earlierDate);\n\n  if (isNaN(comparison)) throw new RangeError(\"Invalid time value\");\n\n  const localizeOptions = Object.assign({}, options, {\n    addSuffix: options?.addSuffix,\n    comparison: comparison,\n  });\n\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    ...(comparison > 0 ? [earlierDate, laterDate] : [laterDate, earlierDate]),\n  );\n\n  const seconds = differenceInSeconds(earlierDate_, laterDate_);\n  const offsetInSeconds =\n    (getTimezoneOffsetInMilliseconds(earlierDate_) -\n      getTimezoneOffsetInMilliseconds(laterDate_)) /\n    1000;\n  const minutes = Math.round((seconds - offsetInSeconds) / 60);\n  let months;\n\n  // 0 up to 2 mins\n  if (minutes < 2) {\n    if (options?.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance(\"lessThanXSeconds\", 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance(\"lessThanXSeconds\", 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance(\"lessThanXSeconds\", 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance(\"halfAMinute\", 0, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n      }\n    }\n\n    // 2 mins up to 0.75 hrs\n  } else if (minutes < 45) {\n    return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n\n    // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance(\"aboutXHours\", 1, localizeOptions);\n\n    // 1.5 hrs up to 24 hrs\n  } else if (minutes < minutesInDay) {\n    const hours = Math.round(minutes / 60);\n    return locale.formatDistance(\"aboutXHours\", hours, localizeOptions);\n\n    // 1 day up to 1.75 days\n  } else if (minutes < minutesInAlmostTwoDays) {\n    return locale.formatDistance(\"xDays\", 1, localizeOptions);\n\n    // 1.75 days up to 30 days\n  } else if (minutes < minutesInMonth) {\n    const days = Math.round(minutes / minutesInDay);\n    return locale.formatDistance(\"xDays\", days, localizeOptions);\n\n    // 1 month up to 2 months\n  } else if (minutes < minutesInMonth * 2) {\n    months = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"aboutXMonths\", months, localizeOptions);\n  }\n\n  months = differenceInMonths(earlierDate_, laterDate_);\n\n  // 2 months up to 12 months\n  if (months < 12) {\n    const nearestMonth = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"xMonths\", nearestMonth, localizeOptions);\n\n    // 1 year up to max Date\n  } else {\n    const monthsSinceStartOfYear = months % 12;\n    const years = Math.trunc(months / 12);\n\n    // N years up to 1 years 3 months\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance(\"aboutXYears\", years, localizeOptions);\n\n      // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance(\"overXYears\", years, localizeOptions);\n\n      // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance(\"almostXYears\", years + 1, localizeOptions);\n    }\n  }\n}\n\n// Fallback for modularized imports:\nexport default formatDistance;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport function compareAsc(dateLeft, dateRight) {\n  const diff = +toDate(dateLeft) - +toDate(dateRight);\n\n  if (diff < 0) return -1;\n  else if (diff > 0) return 1;\n\n  // Return 0 if diff is 0; return NaN if diff is NaN\n  return diff;\n}\n\n// Fallback for modularized imports:\nexport default compareAsc;\n","\"use client\";\n\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport { RecommendationResponse, fetchRecommendations } from \"@/lib/api-client\";\nimport { useDriverState } from \"@/lib/hooks/useDriverState\";\nimport { useTrackingStore } from \"@/lib/tracking/store\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowUpRight, MapPin, RefreshCw } from \"lucide-react\";\nimport { formatDistanceToNow } from \"date-fns\";\n\ninterface NextZonesPanelProps {\n  trackingOn: boolean;\n  seedRecommendation?: RecommendationResponse | null;\n}\n\nconst STALE_MS = 45_000;\nconst AUTO_REFRESH_MS = 180_000; // 3 minutes\n\nexport function NextZonesPanel({ trackingOn, seedRecommendation }: NextZonesPanelProps) {\n  const { data: driverState } = useDriverState();\n  const [recommendation, setRecommendation] = useState<RecommendationResponse | null>(\n    seedRecommendation ?? null\n  );\n  const [loading, setLoading] = useState(!seedRecommendation);\n  const [error, setError] = useState<string | null>(null);\n  const setTrackingRecommendation = useTrackingStore((s) => s.setRecommendation);\n  const lastFix = useTrackingStore((s) => s.lastFix);\n  const lastFixRef = useRef(lastFix);\n  const lastFetchAtRef = useRef(0);\n\n  useEffect(() => {\n    lastFixRef.current = lastFix;\n  }, [lastFix]);\n\n  const syncRecommendation = useCallback(\n    (next: RecommendationResponse | null) => {\n      setRecommendation(next);\n      setTrackingRecommendation(next);\n    },\n    [setTrackingRecommendation]\n  );\n\n  const hydrateFromState = useCallback(() => {\n    if (driverState?.recommendation) {\n      const rec = driverState.recommendation;\n      if (Date.now() - Date.parse(rec.computed_at) < STALE_MS) {\n        syncRecommendation(rec);\n        setError(null);\n        setLoading(false);\n        return true;\n      }\n    }\n    return false;\n  }, [driverState, syncRecommendation]);\n\n  const fetchLatest = useCallback(async () => {\n    const loc = lastFixRef.current;\n    \n    // GATING: Do not fetch if we don't have a valid location\n    if (!loc || typeof loc.accuracy !== \"number\" || loc.accuracy > 100) {\n      setError(\n        \"Waiting for GPS fix (accuracy <100m). Move outdoors for better signal.\"\n      );\n      setLoading(false);\n      return;\n    }\n\n    lastFetchAtRef.current = Date.now();\n    setLoading(true);\n    const params: { k: number; lat: number; lon: number } = {\n      k: 3,\n      lat: loc.lat,\n      lon: loc.lon,\n    };\n\n    const { data, error } = await fetchRecommendations(params);\n    if (error) {\n      if (error.code === \"NO_STATE\") {\n        setError(\n          \"We couldn't get your current location. Enable live tracking or share location to see zone recommendations.\"\n        );\n      } else {\n        setError(error.message);\n      }\n    } else {\n      setError(null);\n      syncRecommendation(data);\n    }\n    setLoading(false);\n  }, [syncRecommendation]);\n\n  useEffect(() => {\n    if (!seedRecommendation) {\n      if (!hydrateFromState()) {\n        fetchLatest();\n      }\n    }\n  }, [seedRecommendation, hydrateFromState, fetchLatest]);\n\n  useEffect(() => {\n    hydrateFromState();\n  }, [driverState, hydrateFromState]);\n\n  useEffect(() => {\n    if (\n      seedRecommendation &&\n      (!recommendation ||\n        seedRecommendation.computed_at !== recommendation.computed_at)\n    ) {\n      syncRecommendation(seedRecommendation);\n    }\n  }, [seedRecommendation, recommendation, syncRecommendation]);\n\n  const runAutoRefresh = useCallback(() => {\n    const now = Date.now();\n    if (now - lastFetchAtRef.current < AUTO_REFRESH_MS) {\n      return;\n    }\n    void fetchLatest();\n  }, [fetchLatest]);\n\n  useEffect(() => {\n    if (!trackingOn) return;\n    runAutoRefresh();\n    const id = setInterval(runAutoRefresh, AUTO_REFRESH_MS);\n    return () => clearInterval(id);\n  }, [trackingOn, runAutoRefresh]);\n\n  const empty =\n    !loading && !error && (!recommendation || !recommendation.top || recommendation.top.length === 0);\n  const waitingForGps =\n    trackingOn &&\n    (!lastFix || typeof lastFix.accuracy !== \"number\" || lastFix.accuracy > 100);\n  const computedAgo = recommendation?.computed_at\n    ? formatDistanceToNow(new Date(recommendation.computed_at), { addSuffix: true })\n    : null;\n\n  const context = recommendation?.context as { traffic_speed_idx?: number } | undefined;\n  const avgTrafficIdx =\n    typeof context?.traffic_speed_idx === \"number\" ? context.traffic_speed_idx : null;\n  const trafficSource = recommendation?.traffic_source ?? null;\n  const headerMeta = useMemo(() => {\n    const parts = [\n      computedAgo ? `Refreshed ${computedAgo}` : \"Refreshed just now\",\n      describeTrafficSource(trafficSource),\n      avgTrafficIdx !== null ? `Avg traffic ${describeTrafficLevel(avgTrafficIdx)}` : null,\n    ];\n    return parts.filter(Boolean).join(\" | \");\n  }, [computedAgo, trafficSource, avgTrafficIdx]);\n\n  return (\n    <Card className=\"shadow-sm\">\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0\">\n        <div>\n          <CardTitle className=\"text-base font-semibold\">Next best zones</CardTitle>\n          <p className=\"text-xs text-muted-foreground\">{headerMeta}</p>\n        </div>\n        <Button variant=\"ghost\" size=\"icon\" aria-label=\"Refresh\" onClick={fetchLatest}>\n          <RefreshCw className=\"h-4 w-4\" />\n        </Button>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        {loading && (\n          <div className=\"space-y-3\">\n            {[0, 1, 2].map((idx) => (\n              <div key={idx} className=\"rounded-xl border p-3\">\n                <div className=\"h-4 w-1/2 animate-pulse rounded bg-muted\" />\n                <div className=\"mt-2 h-3 w-1/3 animate-pulse rounded bg-muted\" />\n              </div>\n            ))}\n          </div>\n        )}\n\n        {!loading && error && (\n          <div className=\"rounded-xl border border-red-200 bg-red-50 p-4 text-sm text-red-700\">\n            {error}\n            <Button size=\"sm\" variant=\"secondary\" className=\"mt-3\" onClick={fetchLatest}>\n              Try again\n            </Button>\n          </div>\n        )}\n\n        {empty && (\n          <div className=\"rounded-xl border border-dashed p-4 text-sm text-muted-foreground\">\n            {waitingForGps ? (\n              <div>\n                <p className=\"font-medium\">Waiting for GPS fix...</p>\n                <p className=\"mt-1 text-xs\">\n                  Move outdoors for clear sky view. Accuracy must be &lt;100m.\n                </p>\n                {lastFix?.accuracy && (\n                  <p className=\"mt-1 text-xs text-amber-600\">\n                    Current accuracy: {lastFix.accuracy.toFixed(0)}m\n                  </p>\n                )}\n              </div>\n            ) : (\n              \"We'll start suggesting zones once we see your location.\"\n            )}\n          </div>\n        )}\n\n        {!loading && !error && recommendation?.top?.length ? (\n          <div className=\"space-y-3\">\n            {recommendation.top.map((zone) => (\n              <ZoneCard key={zone.zone_id} zone={zone} />\n            ))}\n          </div>\n        ) : null}\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction ZoneCard({ zone }: { zone: RecommendationResponse[\"top\"][number] }) {\n  const hasScore = typeof zone.score === \"number\";\n  const hasEta = typeof zone.eta_min === \"number\";\n  const hasDistance = typeof zone.distance_km === \"number\";\n  const distanceLabel = hasDistance ? `${zone.distance_km!.toFixed(1)} km` : \"Distance n/a\";\n  const etaLabel = hasEta ? `${zone.eta_min} min` : \"ETA n/a\";\n  const scoreLabel = hasScore ? zone.score!.toFixed(2) : \"Score n/a\";\n  const barWidth = hasScore ? `${Math.min(100, Math.round(zone.score! * 100))}%` : \"0%\";\n\n  const handleNavigate = () => {\n    const q = encodeURIComponent(`${zone.zone_name} Patna`);\n    window.open(`https://www.google.com/maps/search/?api=1&query=${q}`, \"_blank\");\n  };\n\n  const trafficLabel =\n    typeof zone.traffic_speed_idx === \"number\"\n      ? describeTrafficLevel(zone.traffic_speed_idx)\n      : null;\n\n  return (\n    <div className=\"rounded-2xl border p-4\">\n      <div className=\"flex items-start justify-between gap-3\">\n        <div>\n          <div className=\"flex items-center gap-2 text-base font-semibold\">\n            <MapPin className=\"h-4 w-4 text-primary\" />\n            {zone.zone_name}\n          </div>\n          <p className=\"text-xs text-muted-foreground\">\n            {distanceLabel} | {etaLabel} | {scoreLabel}\n          </p>\n          {trafficLabel && (\n            <p className=\"text-xs text-muted-foreground\">Traffic: {trafficLabel}</p>\n          )}\n        </div>\n        <Button size=\"sm\" variant=\"secondary\" onClick={handleNavigate}>\n          Navigate\n          <ArrowUpRight className=\"ml-1 h-3 w-3\" />\n        </Button>\n      </div>\n      <div className=\"mt-3 text-sm text-muted-foreground\">{zone.reason}</div>\n      <div className=\"mt-3 h-1.5 rounded-full bg-muted\">\n        <div className=\"h-full rounded-full bg-emerald-500\" style={{ width: barWidth }} />\n      </div>\n    </div>\n  );\n}\n\nfunction describeTrafficSource(source?: string | null) {\n  if (source === \"google\") return \"Google live traffic\";\n  if (source === \"cache\") return \"Cached traffic snapshot\";\n  if (source === \"fallback\") return \"Estimated traffic\";\n  return null;\n}\n\nfunction describeTrafficLevel(idx: number) {\n  if (idx >= 0.85) return \"Smooth\";\n  if (idx >= 0.65) return \"Moderate\";\n  if (idx >= 0.4) return \"Busy\";\n  return \"Heavy\";\n}\n","\"use client\";\r\n\r\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport Script from \"next/script\";\r\nimport type { RecommendationZone } from \"@/lib/api-client\";\r\nimport type { TrackingFix } from \"@/lib/tracking/store\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ndeclare global {\r\n  interface Window {\r\n    google?: any;\r\n  }\r\n}\r\n\r\ninterface TrafficPreviewMapProps {\r\n  currentLocation: TrackingFix | null;\r\n  recommendedZones?: RecommendationZone[] | null;\r\n}\r\n\r\nconst DEFAULT_CENTER = { lat: 25.617, lon: 85.141 };\r\nconst MAPS_BROWSER_KEY = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY;\r\nconst MAX_ACCURACY_METERS = 200;\r\n\r\nexport function TrafficPreviewMap({\n  currentLocation,\n  recommendedZones,\n}: TrafficPreviewMapProps) {\n  const mapRef = useRef<HTMLDivElement | null>(null);\r\n  const [scriptLoaded, setScriptLoaded] = useState(false);\r\n  const [map, setMap] = useState<any>(null);\r\n  const [userLocation, setUserLocation] = useState<{ lat: number; lon: number; accuracy: number } | null>(null);\r\n  const [locationError, setLocationError] = useState<string | null>(null);\r\n  const [isRequestingLocation, setIsRequestingLocation] = useState(false);\r\n  const markersRef = useRef<any[]>([]);\r\n  const locationWatchRef = useRef<number | null>(null);\r\n  const zones = useMemo(\r\n    () => (recommendedZones ?? []).filter((zone) => typeof zone.lat === \"number\" && typeof zone.lon === \"number\"),\r\n    [recommendedZones]\r\n  );\r\n\r\n  const requestLocation = useCallback(() => {\r\n    if (typeof window === \"undefined\" || !navigator.geolocation) {\r\n      setLocationError(\"Geolocation is not supported by your browser\");\r\n      return;\r\n    }\r\n\r\n    setIsRequestingLocation(true);\r\n    if (locationWatchRef.current !== null) {\r\n      navigator.geolocation.clearWatch(locationWatchRef.current);\r\n    }\r\n\r\n    locationWatchRef.current = navigator.geolocation.watchPosition(\r\n      (position) => {\r\n        const accuracy =\r\n          typeof position.coords.accuracy === \"number\" ? position.coords.accuracy : null;\r\n        if (!Number.isFinite(accuracy) || accuracy === null || accuracy > MAX_ACCURACY_METERS) {\n          setLocationError(\"Waiting for a precise GPS fix (move outdoors if possible).\");\n          setIsRequestingLocation(false);\n          return;\n        }\n        setUserLocation({\r\n          lat: position.coords.latitude,\r\n          lon: position.coords.longitude,\r\n          accuracy,\r\n        });\r\n        setLocationError(null);\r\n        setIsRequestingLocation(false);\r\n      },\r\n      (error) => {\r\n        setIsRequestingLocation(false);\r\n        setLocationError(describeGeoError(error));\r\n      },\r\n      {\r\n        enableHighAccuracy: true,\r\n        maximumAge: 0,\r\n        timeout: 15_000,\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    requestLocation();\r\n    return () => {\r\n      if (locationWatchRef.current !== null && navigator.geolocation) {\r\n        navigator.geolocation.clearWatch(locationWatchRef.current);\r\n      }\r\n    };\r\n  }, [requestLocation]);\r\n\r\n  useEffect(() => {\r\n    if (!MAPS_BROWSER_KEY || !scriptLoaded || map || !mapRef.current) return;\r\n    const google = window.google;\r\n    if (!google?.maps) return;\r\n    \r\n    const effectiveLocation = currentLocation || userLocation;\r\n    const initialCenter = effectiveLocation\r\n      ? { lat: effectiveLocation.lat, lng: effectiveLocation.lon }\r\n      : { lat: DEFAULT_CENTER.lat, lng: DEFAULT_CENTER.lon };\r\n    \r\n    const instance = new google.maps.Map(mapRef.current, {\r\n      center: initialCenter,\r\n      zoom: 13,\r\n      disableDefaultUI: true,\r\n    });\r\n    const trafficLayer = new google.maps.TrafficLayer();\r\n    trafficLayer.setMap(instance);\r\n    setMap(instance);\r\n    return () => {\r\n      trafficLayer.setMap(null);\r\n    };\r\n  }, [scriptLoaded, map, currentLocation, userLocation]);\r\n\r\n  useEffect(() => {\r\n    if (!map) return;\r\n    const google = window.google;\r\n    if (!google?.maps) return;\r\n\r\n    markersRef.current.forEach((marker) => marker.setMap(null));\r\n    markersRef.current = [];\r\n\r\n    const bounds = new google.maps.LatLngBounds();\r\n    let hasBounds = false;\r\n\r\n    const effectiveLocation = currentLocation || userLocation;\r\n    if (effectiveLocation) {\r\n      const marker = new google.maps.Marker({\r\n        map,\r\n        position: { lat: effectiveLocation.lat, lng: effectiveLocation.lon },\r\n        title: \"You\",\r\n        icon: {\r\n          path: google.maps.SymbolPath.CIRCLE,\r\n          scale: 7,\r\n          fillColor: \"#10b981\",\r\n          fillOpacity: 1,\r\n          strokeColor: \"#ffffff\",\r\n          strokeWeight: 2,\r\n        },\r\n      });\r\n      markersRef.current.push(marker);\r\n      bounds.extend(marker.getPosition()!);\r\n      hasBounds = true;\r\n      map.panTo(marker.getPosition()!);\r\n    }\r\n\r\n    zones.forEach((zone, idx) => {\r\n      const marker = new google.maps.Marker({\r\n        map,\r\n        position: { lat: zone.lat, lng: zone.lon },\r\n        label: `${idx + 1}`,\r\n        title: zone.zone_name,\r\n      });\r\n      markersRef.current.push(marker);\r\n      bounds.extend(marker.getPosition()!);\r\n      hasBounds = true;\r\n    });\r\n\r\n    if (hasBounds) {\r\n      map.fitBounds(bounds, 48);\r\n    }\r\n  }, [map, zones, currentLocation, userLocation]);\r\n\r\n  if (!MAPS_BROWSER_KEY) {\r\n    return (\r\n      <Card className=\"shadow-sm\">\r\n        <CardHeader>\r\n          <CardTitle className=\"text-base font-semibold\">Live map preview</CardTitle>\r\n        </CardHeader>\r\n        <CardContent className=\"text-sm text-muted-foreground\">\r\n          Add <code>NEXT_PUBLIC_GOOGLE_MAPS_API_KEY</code> to load the in-app map preview.\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"shadow-sm\">\r\n      <CardHeader className=\"space-y-1\">\r\n        <CardTitle className=\"text-base font-semibold\">Live map preview</CardTitle>\r\n        <p className=\"text-xs text-muted-foreground\">\r\n          Browser geolocation + Google Maps traffic overlay (visual only)\r\n        </p>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        {locationError && (\r\n          <div className=\"rounded-lg bg-amber-50 px-3 py-2 text-xs text-amber-800\">\r\n            {locationError}\r\n          </div>\r\n        )}\r\n        <div className=\"flex justify-end\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={requestLocation}\r\n            disabled={isRequestingLocation}\r\n          >\r\n            {isRequestingLocation ? \"Requesting location...\" : \"Use my current location\"}\r\n          </Button>\r\n        </div>\r\n        <div className=\"h-64 w-full overflow-hidden rounded-2xl border\" ref={mapRef} />\r\n        {zones.length > 0 ? (\r\n          <div className=\"text-xs text-muted-foreground\">\r\n            {zones.slice(0, 3).map((zone, idx) => (\r\n              <div key={zone.zone_id}>\r\n                #{idx + 1} {zone.zone_name}: {zone.eta_min.toFixed(1)} min,{\" \"}\r\n                {zone.distance_km.toFixed(1)} km\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ) : (\r\n          <p className=\"text-xs text-muted-foreground\">\r\n            Start tracking to see nearby recommended zones on the map.\r\n          </p>\r\n        )}\r\n      </CardContent>\r\n      <Script\r\n        id=\"google-maps-js\"\r\n        src={`https://maps.googleapis.com/maps/api/js?key=${MAPS_BROWSER_KEY}&libraries=visualization`}\r\n        strategy=\"lazyOnload\"\r\n        onLoad={() => setScriptLoaded(true)}\r\n      />\r\n    </Card>\r\n  );\r\n}\n\nfunction describeGeoError(error: GeolocationPositionError) {\n  switch (error.code) {\n    case error.PERMISSION_DENIED:\n      return \"Location permission denied. Please enable location access in your browser settings.\";\n    case error.POSITION_UNAVAILABLE:\n      return \"GPS signal unavailable. Move outdoors for a clearer sky view.\";\n    case error.TIMEOUT:\n      return \"Timed out while fetching your location. Try again from an open area.\";\n    default:\n      return \"Unable to retrieve your location\";\n  }\n}\n","\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport { Button, type ButtonProps } from \"@/components/ui/button\";\nimport { postRideEvent } from \"@/lib/api-client\";\nimport { useTrackingStore, type TrackingFix } from \"@/lib/tracking/store\";\nimport { toast } from \"sonner\";\n\ntype RideEventAction =\n  | \"booking_received\"\n  | \"ride_started\"\n  | \"ride_completed\"\n  | \"booking_cancelled\";\n\nconst events: Array<{ type: RideEventAction; label: string; variant: ButtonProps[\"variant\"] }> = [\n  { type: \"booking_received\", label: \"Got a Ride\", variant: \"default\" },\n  { type: \"ride_started\", label: \"Ride Started\", variant: \"secondary\" },\n  { type: \"ride_completed\", label: \"Ride Completed\", variant: \"outline\" },\n  { type: \"booking_cancelled\", label: \"Booking Cancelled\", variant: \"ghost\" },\n] as const;\n\ntype EventConfig = (typeof events)[number];\n\ninterface RideControlsProps {\n  lastFix: TrackingFix | null;\n}\n\nexport function RideControls({ lastFix }: RideControlsProps) {\n  const [platform, setPlatform] = useState<\"ola\" | \"uber\">(\"ola\");\n  const [activeEvent, setActiveEvent] = useState<EventConfig | null>(null);\n  const [submitting, setSubmitting] = useState(false);\n  const setIsDriving = useTrackingStore((s) => s.setIsDriving);\n\n  const coordsCopy = useMemo(() => {\n    if (!lastFix) return \"No live GPS\";\n    return `${lastFix.lat.toFixed(4)}, ${lastFix.lon.toFixed(4)}`;\n  }, [lastFix]);\n\n  const confirmEvent = async () => {\n    if (!activeEvent) return;\n    setSubmitting(true);\n    const payload: Parameters<typeof postRideEvent>[0] = {\n      event_type: activeEvent.type,\n      platform,\n    };\n    if (lastFix) {\n      if (activeEvent.type === \"ride_completed\") {\n        payload.drop_lat = lastFix.lat;\n        payload.drop_lon = lastFix.lon;\n      } else {\n        payload.pickup_lat = lastFix.lat;\n        payload.pickup_lon = lastFix.lon;\n      }\n    }\n    const { error } = await postRideEvent(payload);\n    setSubmitting(false);\n    setActiveEvent(null);\n    if (error) {\n      toast.error(error.message);\n    } else {\n      toast.success(`${copyForEvent(activeEvent.type)} logged`);\n      updateDrivingState(activeEvent.type, setIsDriving);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between rounded-2xl border bg-white/60 px-4 py-3 shadow-sm\">\n        <div>\n          <p className=\"text-xs uppercase text-muted-foreground\">Current platform</p>\n          <div className=\"mt-1 inline-flex gap-2 rounded-full bg-muted p-1\">\n            {[\"ola\", \"uber\"].map((provider) => (\n              <button\n                key={provider}\n                type=\"button\"\n                onClick={() => setPlatform(provider as \"ola\" | \"uber\")}\n                className={`rounded-full px-3 py-1 text-xs font-semibold capitalize transition ${\n                  platform === provider\n                    ? \"bg-white text-foreground shadow\"\n                    : \"text-muted-foreground\"\n                }`}\n              >\n                {provider}\n              </button>\n            ))}\n          </div>\n        </div>\n        <div className=\"text-right text-xs text-muted-foreground\">\n          <p>Last fix</p>\n          <p className=\"font-semibold text-foreground\">{coordsCopy}</p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-2 gap-3\">\n        {events.map((event) => (\n          <Button\n            key={event.type}\n            className={event.type === \"booking_received\" ? \"col-span-2 h-14 text-base\" : \"h-12\"}\n            variant={event.variant}\n            onClick={() => setActiveEvent(event)}\n          >\n            {event.label}\n          </Button>\n        ))}\n      </div>\n\n      <p className=\"text-xs text-muted-foreground\">\n        Your live location is only used to suggest better zones and calculate your performance. It stays private to you.\n      </p>\n\n      {activeEvent && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 pb-8\">\n          <div className=\"w-full max-w-md rounded-3xl bg-bg p-5 shadow-2xl\">\n            <p className=\"text-sm font-semibold text-muted-foreground\">Confirm action</p>\n            <h3 className=\"text-2xl font-semibold\">{activeEvent.label}</h3>\n            <p className=\"mt-2 text-sm text-muted-foreground\">\n              Platform: <span className=\"font-medium capitalize\">{platform}</span>\n            </p>\n            <p className=\"text-sm text-muted-foreground\">\n              Location: <span className=\"font-medium\">{coordsCopy}</span>\n            </p>\n            <div className=\"mt-5 flex gap-3\">\n              <Button variant=\"outline\" className=\"flex-1\" onClick={() => setActiveEvent(null)}>\n                Cancel\n              </Button>\n              <Button className=\"flex-1\" onClick={confirmEvent} disabled={submitting}>\n                {submitting ? \"Saving.\" : \"Confirm\"}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction updateDrivingState(action: RideEventAction, setIsDriving: (next: boolean) => void) {\n  switch (action) {\n    case \"ride_started\":\n      setIsDriving(true);\n      return;\n    case \"ride_completed\":\n    case \"booking_cancelled\":\n    case \"booking_received\":\n      setIsDriving(false);\n      return;\n    default:\n      return;\n  }\n}\n\nfunction copyForEvent(type: EventConfig[\"type\"]) {\n  switch (type) {\n    case \"booking_received\":\n      return \"Booking\";\n    case \"ride_started\":\n      return \"Ride start\";\n    case \"ride_completed\":\n      return \"Ride completion\";\n    case \"booking_cancelled\":\n      return \"Cancellation\";\n    default:\n      return \"Event\";\n  }\n}\n","\"use client\";\n\nimport { cn } from \"@/lib/utils\";\n\ninterface GpsAccuracyBadgeProps {\n  accuracy?: number | null;\n  trackingOn: boolean;\n}\n\nexport function GpsAccuracyBadge({ accuracy, trackingOn }: GpsAccuracyBadgeProps) {\n  let label = trackingOn ? \"GPS: waiting for fix\" : \"GPS: paused\";\n  let tone = \"bg-muted text-muted-foreground\";\n\n  if (typeof accuracy === \"number\" && Number.isFinite(accuracy)) {\n    const rounded = Math.max(0, Math.round(accuracy));\n    if (rounded <= 30) {\n      label = `GPS: ${rounded}m accuracy`;\n      tone = \"bg-emerald-100 text-emerald-900\";\n    } else if (rounded <= 100) {\n      label = `GPS: ${rounded}m (ok)`;\n      tone = \"bg-amber-100 text-amber-900\";\n    } else {\n      label = `GPS: ${rounded}m (weak) - move outdoors`;\n      tone = \"bg-rose-100 text-rose-900\";\n    }\n  } else if (trackingOn) {\n    tone = \"bg-muted text-muted-foreground\";\n  }\n\n  return (\n    <div className={cn(\"inline-flex rounded-full px-3 py-1 text-xs font-semibold\", tone)}>\n      {label}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { DriverState, fetchDriverState } from \"@/lib/api-client\";\n\nexport function useDriverState(pollMs: number = 0) {\n  const [data, setData] = useState<DriverState | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  const load = useCallback(async () => {\n    const { data, error } = await fetchDriverState();\n    if (error) {\n      setError(error.message);\n    } else {\n      setError(null);\n      setData(data);\n    }\n    setLoading(false);\n  }, []);\n\n  useEffect(() => {\n    load();\n    if (pollMs > 0) {\n      const id = setInterval(load, pollMs);\n      return () => clearInterval(id);\n    }\n  }, [load, pollMs]);\n\n  return { data, loading, error, refresh: load };\n}\r\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","\"use client\";\n\nimport { useCallback, useEffect, useRef } from \"react\";\nimport { postPing, RecommendationResponse } from \"@/lib/api-client\";\nimport { useTrackingStore } from \"@/lib/tracking/store\";\nimport { enqueue } from \"@/lib/offline-queue\";\nimport { toast } from \"sonner\";\n\nconst MIN_DISTANCE_DELTA = 30; // meters\nconst MIN_INTERVAL_MS = 5000;\nconst MAX_ACCURACY_METERS = 200;\nconst ACCURACY_IMPROVEMENT_FACTOR = 0.5;\n\ntype GeoPermissionDescriptor = { name: \"geolocation\" };\n\nexport function useLiveTracking() {\n  const trackingOn = useTrackingStore((s) => s.trackingOn);\n  const permissionStatus = useTrackingStore((s) => s.permissionStatus);\n  const lastFix = useTrackingStore((s) => s.lastFix);\n  const lastPingAt = useTrackingStore((s) => s.lastPingAt);\n  const lastRecommendation = useTrackingStore((s) => s.lastRecommendation);\n  const error = useTrackingStore((s) => s.error);\n  const autoStartPending = useTrackingStore((s) => s.autoStartPending);\n  const setTrackingOn = useTrackingStore((s) => s.setTrackingOn);\n  const setPermissionStatus = useTrackingStore((s) => s.setPermissionStatus);\n  const setLastFix = useTrackingStore((s) => s.setLastFix);\n  const setLastPingAt = useTrackingStore((s) => s.setLastPingAt);\n  const setRecommendation = useTrackingStore((s) => s.setRecommendation);\n  const setError = useTrackingStore((s) => s.setError);\n  const setAutoStartPending = useTrackingStore((s) => s.setAutoStartPending);\n  const watchId = useRef<number | null>(null);\n  const lastSentTimestamp = useRef<number>(0);\n  const lastBroadcastPosition = useRef<GeolocationPosition | null>(null);\n\n  const updatePermissionFromNavigator = useCallback(async () => {\n    try {\n      if (navigator.permissions?.query) {\n        const result = await navigator.permissions.query(\n          { name: \"geolocation\" } as PermissionDescriptor & GeoPermissionDescriptor\n        );\n        setPermissionStatus(result.state);\n        result.onchange = () => setPermissionStatus(result.state);\n      } else {\n        setPermissionStatus(\"unsupported\");\n      }\n    } catch (err) {\n      console.warn(\"permission query failed\", err);\n      setPermissionStatus(\"unsupported\");\n    }\n  }, [setPermissionStatus]);\n\n  useEffect(() => {\n    updatePermissionFromNavigator();\n  }, [updatePermissionFromNavigator]);\n\n  const stopWatch = useCallback(() => {\n    if (watchId.current !== null && typeof navigator !== \"undefined\" && navigator.geolocation) {\n      navigator.geolocation.clearWatch(watchId.current);\n      watchId.current = null;\n    }\n  }, []);\n\n  const handlePingSuccess = useCallback(\n    (recommendation: RecommendationResponse | null, timestampIso: string) => {\n      setLastPingAt(timestampIso);\n      if (recommendation) {\n        setRecommendation(recommendation);\n      }\n      setError(null);\n    },\n    [setLastPingAt, setRecommendation, setError]\n  );\n\n  const sendPing = useCallback(\n    async (position: GeolocationPosition) => {\n      const accuracy =\n        typeof position.coords.accuracy === \"number\" ? position.coords.accuracy : null;\n      if (!Number.isFinite(accuracy) || accuracy === null || accuracy > MAX_ACCURACY_METERS) {\n        setError(\"GPS accuracy is weak (>200m). Move outdoors for a clear fix.\");\n        return;\n      }\n\n      const speedKmh =\n        typeof position.coords.speed === \"number\" && Number.isFinite(position.coords.speed)\n          ? position.coords.speed * 3.6\n          : null;\n\n      setLastFix({\n        lat: position.coords.latitude,\n        lon: position.coords.longitude,\n        accuracy,\n        speed: speedKmh,\n        timestamp: position.timestamp,\n      });\n      setError(null);\n\n      const now = Date.now();\n      const last = lastBroadcastPosition.current;\n      let accuracyImproved = false;\n      if (\n        last &&\n        typeof last.coords.accuracy === \"number\" &&\n        Number.isFinite(last.coords.accuracy)\n      ) {\n        accuracyImproved = accuracy <= last.coords.accuracy * ACCURACY_IMPROVEMENT_FACTOR;\n      }\n\n      if (\n        last &&\n        distanceMeters(last.coords, position.coords) < MIN_DISTANCE_DELTA &&\n        now - lastSentTimestamp.current < MIN_INTERVAL_MS &&\n        !accuracyImproved\n      ) {\n        return;\n      }\n\n      lastBroadcastPosition.current = position;\n      lastSentTimestamp.current = now;\n\n      const payload = {\n        lat: position.coords.latitude,\n        lon: position.coords.longitude,\n        ts: new Date(position.timestamp).toISOString(),\n        accuracy_m: accuracy,\n        speed_kmh: speedKmh ?? undefined,\n      };\n\n      const { data, error } = await postPing(payload);\n      if (error) {\n        setError(error.message);\n        await enqueue(payload);\n        toast.error(\"Could not sync live location. We'll retry soon.\");\n        return;\n      }\n\n      handlePingSuccess(data?.recommendation ?? null, payload.ts ?? new Date().toISOString());\n    },\n    [setLastFix, handlePingSuccess, setError]\n  );\n\n  const requestPermission = useCallback(async () => {\n    try {\n      const { state } = await navigator.permissions.query(\n        { name: \"geolocation\" } as PermissionDescriptor & GeoPermissionDescriptor\n      );\n      setPermissionStatus(state);\n      if (state === \"denied\") {\n        toast.error(\"Location permission denied. Enable it in browser settings.\");\n        return false;\n      }\n      if (state === \"prompt\") {\n        await new Promise<GeolocationPosition>((resolve, reject) => {\n          navigator.geolocation.getCurrentPosition(resolve, reject, {\n            enableHighAccuracy: true,\n            timeout: 15000,\n            maximumAge: 0,\n          });\n        });\n        setPermissionStatus(\"granted\");\n      }\n      return true;\n    } catch (error) {\n      console.error(\"permission request failed\", error);\n      setPermissionStatus(\"unsupported\");\n      return false;\n    }\n  }, [setPermissionStatus]);\n\n  const toggleTracking = useCallback(async () => {\n    if (trackingOn) {\n      stopWatch();\n      setTrackingOn(false);\n      return;\n    }\n\n    const granted = await requestPermission();\n    if (!granted) {\n      setError(\"Location permission required for live tracking\");\n      return;\n    }\n\n    setTrackingOn(true);\n  }, [trackingOn, requestPermission, stopWatch, setTrackingOn, setError]);\n\n  useEffect(() => {\n    if (!trackingOn && autoStartPending) {\n      void toggleTracking();\n      setAutoStartPending(false);\n    }\n  }, [trackingOn, autoStartPending, toggleTracking, setAutoStartPending]);\n\n  useEffect(() => {\n    if (!trackingOn) {\n      stopWatch();\n      return;\n    }\n\n    if (typeof navigator === \"undefined\" || !navigator.geolocation) {\n      setError(\"Geolocation is not supported in this browser.\");\n      toast.error(\"Geolocation is not available on this device.\");\n      setTrackingOn(false);\n      return;\n    }\n\n    watchId.current = navigator.geolocation.watchPosition(\n      (pos) => sendPing(pos),\n      (err) => {\n        console.error(\"watchPosition error\", err);\n        const friendly = describeGeoError(err);\n        setError(friendly);\n        if (err.code === err.PERMISSION_DENIED) {\n          setTrackingOn(false);\n          setPermissionStatus(\"denied\");\n          toast.error(\"Permission denied. Please re-enable location access.\");\n        } else {\n          toast.error(friendly);\n        }\n      },\n      {\n        enableHighAccuracy: true,\n        maximumAge: 0,\n        timeout: 15000,\n      }\n    );\n\n    return () => stopWatch();\n  }, [trackingOn, sendPing, stopWatch, setError, setTrackingOn, setPermissionStatus]);\n\n  useEffect(() => {\n    function handleOnline() {\n      setError(null);\n    }\n    window.addEventListener(\"online\", handleOnline);\n    return () => window.removeEventListener(\"online\", handleOnline);\n  }, [setError]);\n\n  // Compute hasLocation and isFetchingLocation for gating logic\n  const hasLocation =\n    lastFix !== null &&\n    typeof lastFix.accuracy === \"number\" &&\n    Number.isFinite(lastFix.accuracy) &&\n    lastFix.accuracy <= 100;\n\n  const isFetchingLocation = trackingOn && !hasLocation;\n\n  return {\n    trackingOn,\n    permissionStatus,\n    lastFix,\n    lastPingAt,\n    lastRecommendation,\n    error,\n    toggleTracking,\n    hasLocation,\n    isFetchingLocation,\n  };\n}\n\nfunction distanceMeters(a: GeolocationCoordinates, b: GeolocationCoordinates) {\n  const R = 6371e3;\n  const lat1 = (a.latitude * Math.PI) / 180;\n  const lat2 = (b.latitude * Math.PI) / 180;\n  const deltaLat = lat2 - lat1;\n  const deltaLon = ((b.longitude - a.longitude) * Math.PI) / 180;\n  const x =\n    Math.sin(deltaLat / 2) * Math.sin(deltaLat / 2) +\n    Math.cos(lat1) * Math.cos(lat2) * Math.sin(deltaLon / 2) * Math.sin(deltaLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(x), Math.sqrt(1 - x));\n  return R * c;\n}\n\nfunction describeGeoError(err: GeolocationPositionError) {\n  switch (err.code) {\n    case err.PERMISSION_DENIED:\n      return \"Location permission denied. Enable it in your browser settings.\";\n    case err.POSITION_UNAVAILABLE:\n      return \"GPS signal unavailable. Move outdoors for a clear view of the sky.\";\n    case err.TIMEOUT:\n      return \"Timed out while waiting for GPS. Try again from an open area.\";\n    default:\n      return err.message || \"Unable to determine your location.\";\n  }\n}\n","\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { createBrowserSupabaseClient } from \"@/lib/supabase/client\";\n\nconst supabase = createBrowserSupabaseClient();\n\nexport function useDriverProfile() {\n  const [profile, setProfile] = useState<{ id: string; full_name: string | null } | null>(null);\n\n  useEffect(() => {\n    let active = true;\n    async function load() {\n      const {\n        data: { user },\n      } = await supabase.auth.getUser();\n      if (!user) return;\n      const { data } = await supabase\n        .from(\"profiles\")\n        .select(\"id,full_name\")\n        .eq(\"id\", user.id)\n        .maybeSingle();\n      if (!active) return;\n      setProfile({ id: user.id, full_name: data?.full_name ?? user.user_metadata?.full_name ?? null });\n    }\n    load();\n    return () => {\n      active = false;\n    };\n  }, []);\n\n  return profile;\n}\n","\"use client\";\n\nimport { DriverShell } from \"@/components/layout/DriverShell\";\nimport { TrackingToggle } from \"@/components/TrackingToggle\";\nimport { LiveStatusChip } from \"@/components/LiveStatusChip\";\nimport { NextZonesPanel } from \"@/components/NextZonesPanel\";\nimport { TrafficPreviewMap } from \"@/components/TrafficPreviewMap\";\nimport { RideControls } from \"@/components/RideControls\";\nimport { GpsAccuracyBadge } from \"@/components/GpsAccuracyBadge\";\nimport { useLiveTracking } from \"@/hooks/useLiveTracking\";\nimport { useDriverProfile } from \"@/lib/hooks/useDriverProfile\";\nimport { useTodayStats } from \"@/lib/hooks/useTodayStats\";\n\nexport default function DriverHomeClient() {\n  const tracking = useLiveTracking();\n  const profile = useDriverProfile();\n  const { stats } = useTodayStats();\n\n  const greeting = profile?.full_name ? `Hi, ${profile.full_name.split(\" \")[0]}` : \"Hi driver\";\n  const subtitle = `Today | ${stats.totalTrips} trips | ?${stats.totalEarnings.toFixed(0)}`;\n\n  const gpsReady = tracking.hasLocation;\n  const waitingForGps = tracking.isFetchingLocation;\n\n  return (\n    <DriverShell title={greeting} subtitle={subtitle}>\n      <div className=\"space-y-6\">\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n          {/* <TrackingToggle\n            trackingOn={tracking.trackingOn}\n            permissionStatus={tracking.permissionStatus}\n            toggleTracking={tracking.toggleTracking}\n            error={tracking.error}\n          /> */}\n          <div className=\"flex flex-col items-start gap-2 sm:items-end\">\n            {/* <LiveStatusChip\n              trackingOn={tracking.trackingOn}\n              lastPingAt={tracking.lastPingAt}\n              permissionStatus={tracking.permissionStatus}\n            /> */}\n            <GpsAccuracyBadge\n              trackingOn={tracking.trackingOn}\n              accuracy={tracking.lastFix?.accuracy ?? null}\n            />\n            {waitingForGps && (\n              <div className=\"text-xs text-amber-600\">\n                Acquiring GPS fix...\n              </div>\n            )}\n          </div>\n        </div>\n\n        <NextZonesPanel trackingOn={tracking.trackingOn} seedRecommendation={tracking.lastRecommendation} />\n\n        <TrafficPreviewMap\n          currentLocation={tracking.lastFix}\n          recommendedZones={tracking.lastRecommendation?.top ?? null}\n        />\n\n        <section className=\"space-y-3\">\n          <h2 className=\"text-lg font-semibold\">Ride actions</h2>\n          <RideControls lastFix={tracking.lastFix} />\n        </section>\n      </div>\n    </DriverShell>\n  );\n}\n","export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n","import { openDB, IDBPDatabase } from \"idb\";\r\n\r\nconst DB = \"ride-db\";\r\nconst STORE = \"events\";\r\n\r\nasync function db() { \r\n  return openDB(DB, 1, { \r\n    upgrade(d: IDBPDatabase) { \r\n      d.createObjectStore(STORE, { keyPath: \"id\", autoIncrement: true }); \r\n    } \r\n  }); \r\n}\r\n\r\nexport async function enqueue(e: any) { \r\n  (await db()).add(STORE, { ...e, created_at: Date.now() }); \r\n}\r\n\r\nexport async function drain(flush: (e: any) => Promise<boolean>) {\r\n  const d = await db();\r\n  const tx = d.transaction(STORE, \"readwrite\");\r\n  const s = tx.store;\r\n  let c = await s.openCursor();\r\n  while (c) { \r\n    const ok = await flush(c.value); \r\n    if (ok) await c.delete(); \r\n    c = await c.continue(); \r\n  }\r\n  await tx.done;\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M7 7h10v10', key: '1tivn9' }],\n  ['path', { d: 'M7 17 17 7', key: '1vkiza' }],\n];\n\n/**\n * @component @name ArrowUpRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNyA3aDEwdjEwIiAvPgogIDxwYXRoIGQ9Ik03IDE3IDE3IDciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-up-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowUpRight = createLucideIcon('arrow-up-right', __iconNode);\n\nexport default ArrowUpRight;\n","import { endOfDay } from \"./endOfDay.js\";\nimport { endOfMonth } from \"./endOfMonth.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @param date - The date to check\n * @param options - An object with options\n *\n * @returns The date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport function isLastDayOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  return +endOfDay(_date, options) === +endOfMonth(_date, options);\n}\n\n// Fallback for modularized imports:\nexport default isLastDayOfMonth;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(laterDate, earlierDate) {\n  return +toDate(laterDate) - +toDate(earlierDate);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { compareAsc } from \"./compareAsc.js\";\nimport { differenceInCalendarMonths } from \"./differenceInCalendarMonths.js\";\nimport { isLastDayOfMonth } from \"./isLastDayOfMonth.js\";\n\n/**\n * The {@link differenceInMonths} function options.\n */\n\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport function differenceInMonths(laterDate, earlierDate, options) {\n  const [laterDate_, workingLaterDate, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    laterDate,\n    earlierDate,\n  );\n\n  const sign = compareAsc(workingLaterDate, earlierDate_);\n  const difference = Math.abs(\n    differenceInCalendarMonths(workingLaterDate, earlierDate_),\n  );\n\n  if (difference < 1) return 0;\n\n  if (workingLaterDate.getMonth() === 1 && workingLaterDate.getDate() > 27)\n    workingLaterDate.setDate(30);\n\n  workingLaterDate.setMonth(workingLaterDate.getMonth() - sign * difference);\n\n  let isLastMonthNotFull = compareAsc(workingLaterDate, earlierDate_) === -sign;\n\n  if (\n    isLastDayOfMonth(laterDate_) &&\n    difference === 1 &&\n    compareAsc(laterDate_, earlierDate_) === 1\n  ) {\n    isLastMonthNotFull = false;\n  }\n\n  const result = sign * (difference - +isLastMonthNotFull);\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInMonths;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfDay} function options.\n */\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\n\n/**\n * The {@link differenceInCalendarMonths} function options.\n */\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const yearsDiff = laterDate_.getFullYear() - earlierDate_.getFullYear();\n  const monthsDiff = laterDate_.getMonth() - earlierDate_.getMonth();\n\n  return yearsDiff * 12 + monthsDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.js\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(laterDate, earlierDate, options) {\n  const diff = differenceInMilliseconds(laterDate, earlierDate) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n","import { constructNow } from \"./constructNow.js\";\n\nimport { formatDistance } from \"./formatDistance.js\";\n\n/**\n * The {@link formatDistanceToNow} function options.\n */\n\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @param date - The given date\n * @param options - The object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * const result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * const result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * const result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * const eoLocale = require('date-fns/locale/eo')\n * const result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistanceToNow(date, options) {\n  return formatDistance(date, constructNow(date), options);\n}\n\n// Fallback for modularized imports:\nexport default formatDistanceToNow;\n"],"names":["module","exports","require","vendored","HeadManagerContext","setAttributesFromProps","DOMAttributeNames","acceptCharset","className","htmlFor","httpEquiv","noModule","ignoreProps","isBooleanScriptAttribute","attr","includes","el","props","p","value","Object","entries","hasOwnProperty","undefined","toLowerCase","tagName","setAttribute","String","removeAttribute","cancelIdleCallback","requestIdleCallback","self","bind","window","cb","start","Date","now","setTimeout","didTimeout","timeRemaining","Math","max","id","clearTimeout","handleClientScriptLoad","initScriptLoader","ScriptCache","Map","LoadCache","Set","insertStylesheets","stylesheets","ReactDOM","preinit","forEach","stylesheet","as","head","document","link","createElement","type","rel","href","appendChild","loadScript","src","onLoad","onReady","dangerouslySetInnerHTML","children","strategy","onError","cacheKey","has","add","get","then","afterLoad","loadPromise","Promise","resolve","reject","addEventListener","e","call","catch","innerHTML","__html","textContent","Array","isArray","join","set","body","loadLazyScript","readyState","addBeforeInteractiveToCache","scripts","querySelectorAll","script","getAttribute","scriptLoaderItems","Script","restProps","updateScripts","getIsSsr","appDir","nonce","useContext","hasOnReadyEffectCalled","useRef","useEffect","current","hasLoadScriptEffectCalled","concat","styleSrc","JSON","stringify","preload","integrity","crossOrigin","defineProperty"],"mappings":"4CAKA,GAAQ,CAAC,CAHT,EAGY,OAHsB,AAAzB,CAA4B,EACjC,OAAO,GAAO,EAAI,UAAU,CAAG,EAAM,CAAE,QAAS,CAAI,CACxD,gCCJAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,kBAAkB,wGCsBzBC,yBAAAA,qCAAAA,KAxBhB,IAAMC,EAA4C,CAChDC,cAAe,iBACfC,UAAW,QACXC,QAAS,MACTC,UAAW,aACXC,SAAU,UACZ,EAEMC,EAAc,CAClB,SACA,UACA,0BACA,WACA,UACA,WACA,cACD,CAED,SAASC,EACPC,CAAY,EAEZ,MAAO,CAAC,QAAS,QAAS,WAAW,CAACC,QAAQ,CAACD,EACjD,CAEO,SAAST,EAAuBW,CAAe,CAAEC,CAAa,EACnE,IAAK,GAAM,CAACC,EAAGC,EAAM,GAAIC,OAAOC,OAAO,CAACJ,GAAQ,CAC9C,GAAI,CAACA,EAAMK,cAAc,CAACJ,IACtBN,EAAYG,QAAQ,CAACG,IAAI,AAGzBC,KAAUI,MAJgB,KAIL,IAIzB,IAAMT,EAAOR,CAAiB,CAACY,EAAE,EAAIA,EAAEM,WAAW,GAE/B,WAAfR,EAAGS,OAAO,EAAiBZ,EAAyBC,GAGpDE,CAAwB,CAACF,EAHkC,AAG7B,CAAG,CAAC,CAACK,EAErCH,EAAGU,YAAY,CAACZ,EAAMa,OAAOR,IAM7BA,EAAU,OACM,WAAfH,EAAGS,OAAO,EACTZ,EAAyBC,KACxB,CAACK,GAAD,AAAoB,UAAVA,CAAU,CAAM,GAC7B,CAGAH,EAAGU,YAAY,CAACZ,EAAM,IACtBE,EAAGY,eAAe,CAACd,GAEvB,CACF,8SC1Cae,kBAAkB,CAAA,kBAAlBA,GAhBAC,mBAAmB,CAAA,kBAAnBA,uEAAN,IAAMA,EACM,aAAhB,OAAOC,MACNA,KAAKD,mBAAmB,EACxBC,KAAKD,mBAAmB,CAACE,IAAI,CAACC,SAChC,SAAUC,CAAuB,EAC/B,IAAIC,EAAQC,KAAKC,GAAG,GACpB,OAAON,KAAKO,UAAU,CAAC,WACrBJ,EAAG,CACDK,YAAY,EACZC,cAAe,WACb,OAAOC,KAAKC,GAAG,CAAC,EAAG,IAAMN,CAAAA,IAAKC,GAAG,GAAKF,CAAAA,CAAI,CAC5C,CACF,EACF,EAAG,EACL,EAEWN,EACM,aAAhB,OAAOE,MACNA,KAAKF,kBAAkB,EACvBE,KAAKF,kBAAkB,CAACG,IAAI,CAACC,SAC/B,SAAUU,CAAU,EAClB,OAAOC,aAAaD,EACtB,+SC0WF,OAAqB,CAAA,kBAArB,GApOgBE,sBAAsB,CAAA,kBAAtBA,GAgCAC,gBAAgB,CAAA,kBAAhBA,0HA1LK,CAAA,CAAA,IAAA,YAC0C,CAAA,CAAA,IAAA,QAE5B,CAAA,CAAA,IAAA,OACI,CAAA,CAAA,IAAA,OACH,CAAA,CAAA,IAAA,GAE9BC,EAAc,IAAIC,IAClBC,EAAY,IAAIC,IAkDhBgB,EAAa,AAACjD,IAClB,GAAM,KACJkD,CAAG,IACHxB,CAAE,CACFyB,SAAS,KAAO,CAAC,SACjBC,EAAU,IAAI,yBACdC,CAAuB,UACvBC,EAAW,EAAE,UACbC,EAAW,kBAAkB,SAC7BC,CAAO,aACPrB,CAAW,CACZ,CAAGnC,EAEEyD,EAAW/B,GAAMwB,EAGvB,GAAIO,GAAYzB,EAAU0B,GAAG,CAACD,GAC5B,OAIF,CALyC,EAKrC3B,EAAY4B,GAAG,CAACR,GAAM,CACxBlB,EAAU2B,GAAG,CAACF,GAGd3B,EAAY8B,GAAG,CAACV,GAAKW,IAAI,CAACV,EAAQK,GAClC,MACF,CAGA,IAAMM,EAAY,KAEZV,GACFA,IAGFpB,EAJa,AAIH2B,GAAG,CAACF,EAChB,EAEM1D,EAAK2C,SAASE,aAAa,CAAC,UAE5BmB,EAAc,IAAIC,QAAc,CAACC,EAASC,KAC9CnE,EAAGoE,gBAAgB,CAAC,OAAQ,SAAUC,CAAC,EACrCH,IACId,GACFA,EAAOkB,GADG,CACC,CAAC,IAAI,CAAED,GAEpBN,GACF,GACA/D,EAAGoE,gBAAgB,CAAC,QAAS,SAAUC,CAAC,EACtCF,EAAOE,EACT,EACF,GAAGE,KAAK,CAAC,SAAUF,CAAC,EACdZ,GACFA,EAAQY,EAEZ,EAHe,CAKXf,GAEFtD,EAAGwE,SAAS,CAAIlB,EAAwBmB,MAAM,EAFnB,AAEkC,GAE7DV,KACSR,GACTvD,EAAG0E,KADgB,MACL,CACQ,UAApB,OAAOnB,EACHA,EACAoB,MAAMC,OAAO,CAACrB,GACZA,EAASsB,IAAI,CAAC,IACd,GAERd,KACSZ,IACTnD,CADc,CACXmD,GAAG,CAAGA,EAITpB,EAAY+C,GAAG,CAAC3B,EAAKa,IAGvB3E,CAAAA,EAAAA,EAAAA,sBAAAA,AAAsB,EAACW,EAAIC,GAEV,UAAU,CAAvBuD,GACFxD,EAAGU,YAAY,CAAC,OAAQ,kBAG1BV,EAAGU,YAAY,CAAC,eAAgB8C,GAG5BpB,GACFD,CA3HuBC,AAAD,IAOxB,GAAIC,EAAAA,AAmHa,OAnHL,CAACC,OAAO,CAAE,OACpBF,EAAYG,OAAO,CAAEC,AAAD,IAClBH,EAAAA,OAAQ,CAACC,OAAO,CAACE,EAAY,CAAEC,GAAI,OAAQ,EAC7C,EAqBJ,GA4FsBL,GAGpBO,SAASoC,IAAI,CAAC9B,WAAW,CAACjD,EAC5B,EAEO,SAAS6B,EAAuB5B,CAAkB,EACvD,GAAM,UAAEuD,EAAW,kBAAkB,CAAE,CAAGvD,EACzB,cAAc,CAA3BuD,EACFvC,OAAOmD,gBAAgB,CAAC,OAAQ,KAC9BtD,CAAAA,EAAAA,EAAAA,mBAAAA,AAAmB,EAAC,IAAMoC,EAAWjD,GACvC,GAEAiD,EAAWjD,EAEf,CAuBO,SAAS6B,EAAiByD,CAAgC,EAC/DA,EAAkBhD,OAAO,CAACV,GAP1BsD,AAJgB,IACXxC,SAASyC,gBAAgB,CAAC,yCAC1BzC,SAASyC,gBAAgB,CAAC,qCAC9B,CACO7C,OAAO,CAAC,AAAC8C,IACf,IAAM3B,EAAW2B,EAAO1D,EAAE,EAAI0D,EAAOC,YAAY,CAAC,OAClDrD,EAAU2B,GAAG,CAACF,EAChB,EAMF,CAOA,SAAS8B,EAAOvF,CAAkB,EAChC,GAAM,IACJ0B,CAAE,KACFwB,EAAM,EAAE,QACRC,EAAS,KAAO,CAAC,CACjBC,UAAU,IAAI,UACdG,EAAW,kBAAkB,SAC7BC,CAAO,aACPrB,CAAW,CACX,GAAGqD,EACJ,CAAGxF,EAGA,eAAEyF,CAAa,SAAEP,CAAO,CAAEQ,UAAQ,QAAEC,CAAM,OAAEC,CAAK,CAAE,CACrDC,CAAAA,EAAAA,EAAAA,UAAAA,AAAU,EAAC1G,EAAAA,kBAAkB,EAG/ByG,EAAQJ,EAAUI,KAAK,EAAIA,EA4B3B,IAAME,EAAyBC,CAAAA,EAAAA,EAAAA,MAAAA,AAAM,GAAC,GAEtCC,CAAAA,EAAAA,EAAAA,SAAAA,AAAS,EAAC,KACR,IAAMvC,EAAW/B,GAAMwB,EAClB4C,EAAuBG,OAAO,EAAE,CAE/B7C,GAAWK,GAAYzB,EAAU0B,GAAG,CAACD,IACvCL,IAGF0C,EAAuBG,CAJ6B,MAItB,EAAG,EAErC,EAAG,CAAC7C,EAAS1B,EAAIwB,EAAI,EAErB,IAAMgD,EAA4BH,GAAAA,EAAAA,MAAAA,AAAM,GAAC,GAwCzC,GAtCAC,CAAAA,EAAAA,EAAAA,SAAAA,AAAS,EAAC,KACR,GAAI,CAACE,EAA0BD,OAAO,CAAE,CACtC,GAAI1C,AAAa,oBAAoB,GACnCN,EAAWjD,OACW,cAAc,CAA3BuD,IA/Fa,YAAY,CAApCb,SAASsC,UAAU,CACrBnE,CAAAA,EAAAA,EAAAA,mBAAmB,AAAnBA,EAAoB,IAAMoC,EA+FPjD,IA7FnBgB,KAFqChB,EAE9BmE,gBAAgB,CAAC,OAAQ,KAC9BtD,CAAAA,EAAAA,EAAAA,mBAAAA,AAAmB,EAAC,IAAMoC,KAC5B,IA8FEiD,EAA0BD,AA/FWjG,OA+FJ,EAAG,CACtC,CACF,EAAG,CAACA,EAAOuD,EAAS,GAEH,sBAAbA,GAAiD,WAAbA,CAAa,GAAU,CACzDkC,GACFP,CAAO,CAAC3B,EAAS,CAAI2B,CAAAA,CAAO,CAAC3B,EAAS,EADrB,AACyB,EAAA,AAAC,EAAG4C,MAAM,CAAC,CACnD,CACEzE,SACAwB,SACAC,UACAC,UACAI,EACA,GAAGgC,CAAS,OACZI,CACF,EACD,EACDH,EAAcP,IACLQ,GAAYA,IAErB1D,EAAU2B,GAAG,CAACjC,EAFmB,CAEbwB,GACXwC,GAAY,CAACA,KACtBzC,EAAW,CACT,GAAGjD,CAAK,AAFwB,OAGhC4F,CACF,IAKAD,EAAQ,CAkBV,GARIxD,GACFA,EAAYG,OAAO,CADJ,AACK,AAAC8D,IACnBhE,EAAAA,OAAQ,CAACC,OAAO,CAAC+D,EAAU,CAAE5D,GAAI,OAAQ,EAC3C,GAKe,qBAAqB,CAAlCe,EACF,GAAI,CAACL,EASH,GATQ,IAEJsC,AAOJ,EAPcnC,SAOd,cAPqC,EAAE,CAErCmC,EAAUlC,QAAQ,CAAGkC,EAAUnC,uBAAuB,CACnDmB,MAAM,CACT,OAAOgB,EAAUnC,uBAAuB,EAIxC,CAAA,EAAA,EAAA,GAAA,EAAC+B,SAAAA,CACCQ,MAAOA,EACPvC,wBAAyB,CACvBmB,OAAQ,CAAC,uCAAuC,EAAE6B,KAAKC,SAAS,CAAC,CAC/D,EACA,CAAE,GAAGd,CAAS,IAAE9D,CAAG,EACpB,EAAE,CAAC,CAAC,AACP,SAgBJ,OAAA,AAXAU,EAAAA,OAAQ,CAACmE,CAWT,MAXgB,CACdrD,EACAsC,EAAUgB,SAAS,CACf,CACEhE,GAAI,SACJgE,UAAWhB,EAAUgB,SAAS,OAC9BZ,EACAa,YAAajB,EAAUiB,WACzB,AADoC,EAEpC,CAAEjE,GAAI,eAAUoD,EAAOa,YAAajB,EAAUiB,WAAW,AAAC,GAG9D,CAAA,EAAA,EAAA,GAAA,EAACrB,SAAAA,CACCQ,MAAOA,EACPvC,wBAAyB,CACvBmB,OAAQ,CAAC,uCAAuC,EAAE6B,KAAKC,SAAS,CAAC,CAC/DpD,EACA,CAAE,GAAGsC,CAAS,IAAE9D,CAAG,EACpB,EAAE,CAAC,CACN,AADO,GAKJ6B,AAAa,oBAAoB,KACtCL,GAEFd,EAFO,AAEPA,OAAQ,CAACmE,OAAO,CACdrD,EACAsC,EAAUgB,SAAS,CACf,CACEhE,GAAI,SACJgE,UAAWhB,EAAUgB,SAAS,OAC9BZ,EACAa,YAAajB,EAAUiB,WAAW,AACpC,EACA,CAAEjE,GAAI,eAAUoD,EAAOa,YAAajB,EAAUiB,WAAY,AAAD,EAIrE,CAEA,OAAO,IACT,CAEAtG,OAAOuG,cAAc,CAACnB,EAAQ,eAAgB,CAAErF,MAAO,EAAK,OAE5D,EAAeqF,0OChYf,EAAO,OAAO,CAAA,EAAA,CAAA,CAAA,mCUEV,EACA,uBGDJ,EAAA,EAAA,CAAA,CAAA,ORAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OJ+BO,IAAM,EAAmB,CAAA,EAAA,AAhChC,EAAA,CAAA,CAAA,OAgCgC,MAAA,AAAM,EAAgB,AAAC,IAAS,CAC9D,CAD6D,WACjD,EACZ,iBAAkB,SAClB,QAAS,KACT,WAAY,KACZ,mBAAoB,KACpB,MAAO,KACP,WAAW,EACX,kBAAkB,EAClB,cAAe,AAAC,GAAe,EAAI,YAAE,CAAW,GAChD,oBAAqB,AAAC,GAAqB,EAAI,kBAAE,CAAiB,GAClE,WAAY,AAAC,GAAY,EAAI,CAAE,SAAQ,GACvC,cAAe,AAAC,GAAe,EAAI,CAAE,YAAW,GAChD,kBAAmB,AAAC,GAAuB,EAAI,oBAAE,CAAmB,GACpE,SAAU,AAAC,GAAU,EAAI,OAAE,CAAM,GACjC,aAAc,AAAC,GACb,EAAI,IAAM,CAAC,WACT,EACA,gBAAA,EAAkB,EACpB,CAAC,EACH,OAFkC,QAAQ,KAErB,AAAC,GAAqB,EAAI,kBAAE,CAAiB,GACpE,CAAC,EIjDD,IAAA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OWYA,CAAA,GAAA,EAAA,CAAA,EAAA,WAAA,OAAA,AAAqB,EAAA,iBAhBe,CAgBoB,CAfrD,AAeqD,CAfrD,AAeqD,CAAA,AAfrD,CAeqD,CAAA,CAAA,CAAA,CAAA,CAf3C,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IAAc,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,EAC1C,OAAQ,CAAE,EAAG,aAAc,CAAA,CAAA,CAAA,CAAK,QAAA,CAAU,CAAA,CAC7C,EXEA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OHRA,EAAA,EAAA,CAAA,CAAA,OCAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCHA,EAAA,EAAA,CAAA,CAAA,OAkCO,SAAS,EAAW,CAAQ,CAAE,CAAS,EAC5C,IAAM,EAAO,AAAC,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,GAAa,CAAA,EAAA,EAAA,IAAD,EAAC,AAAM,EAAC,UAEzC,AAAI,EAAO,EAAU,CAAC,AAAR,EACL,EAAO,EAAU,CAAP,CAGZ,CACT,CDrCA,IAAA,EAAA,EAAA,CAAA,CAAA,OEcO,SAAS,EAAe,YAAE,CAAU,oBAAE,CAAkB,CAAuB,QmBsE5C,EnBrExC,GAAM,CAAE,CmBqEuC,InBrEjC,CAAW,CAAE,CIftB,AJeyB,SIfhB,AAAe,EAAiB,CAAC,EAC/C,GAAM,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,MAC/C,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAE5C,EAAO,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACvB,GAAM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,CAAA,EAAA,EAAA,gBAAA,AAAgB,IAC1C,EACF,EAAS,EAAM,CADN,MACa,GAEtB,EAAS,MACT,EAAQ,IAEV,GAAW,EACb,EAAG,EAAE,EAUL,MARA,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KAER,GADA,IACI,EAAS,EAAG,CACd,IAAM,EAAK,YAAY,EAAM,GAC7B,MAAO,IAAM,cAAc,EAC7B,CACF,EAAG,CAAC,EAAM,EAAO,EAEV,MAAE,UAAM,QAAS,EAAO,QAAS,CAAK,CAC/C,IJTQ,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAClD,GAAsB,MAElB,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAC,GAClC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,EAA4B,EAAiB,AAAC,GAAM,EAAE,iBAAiB,EACvE,EAAU,EAAiB,AAAC,GAAM,EAAE,OAAO,EAC3C,EAAa,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,GACpB,EAAiB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,GAE9B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,EAAW,OAAO,CAAG,CACvB,EAAG,CAAC,EAAQ,EAEZ,IAAM,EAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EACpC,AAAC,IACC,EAAkB,GAClB,EAA0B,EAC5B,EACA,CAAC,EAA0B,EAGvB,EAAmB,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,KACnC,GAAI,GAAa,eAAgB,CAC/B,IAAM,EAAM,EAAY,cAAc,CACtC,GAAI,KAAK,GAAG,GAAK,KAAK,KAAK,CAAC,EAAI,WAAW,EA9BhC,EA8BoC,GAI7C,OAJuD,AACvD,EAAmB,GACnB,EAAS,MACT,GAAW,IACJ,CAEX,CACA,OAAO,CACT,EAAG,CAAC,EAAa,EAAmB,EAE9B,EAAc,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,UAC9B,IAAM,EAAM,EAAW,OAAO,CAG9B,GAAI,CAAC,GAA+B,UAAxB,OAAO,EAAI,QAAQ,EAAiB,EAAI,QAAQ,CAAG,IAAK,CAClE,EACE,0EAEF,GAAW,GACX,MACF,CAEA,EAAe,OAAO,CAAG,KAAK,GAAG,GACjC,GAAW,GACX,IAAM,EAAkD,CACtD,EAAG,EACH,IAAK,EAAI,GAAG,CACZ,IAAK,EAAI,GAAG,AACd,EAEM,CAAE,MAAI,OAAE,CAAK,CAAE,CAAG,MAAM,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,GAC/C,EACiB,KADV,OACsB,CAA3B,EAAM,IAAI,CACZ,EACE,8GAGF,EAAS,EAAM,OAAO,GAGxB,EAAS,MACT,EAAmB,IAErB,GAAW,EACb,EAAG,CAAC,EAAmB,EAEvB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,AAAC,GACE,KACH,GAGN,EAAG,CAAC,EAAoB,EAAkB,EAAY,AAL3B,EAO3B,CAAA,AAN6B,EAM7B,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,CAAC,EAAa,EAAiB,EAElC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEN,IACC,CAAC,GACA,EAAmB,WAAW,CADhC,EACqC,EAAe,WAAW,AAAX,GACpD,AACA,EAAmB,EAEvB,EAAG,CAAC,EAAoB,EAAgB,EAAmB,EAE3D,IAAM,EAAiB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACrB,KAAK,GAAG,GACV,EAAe,OAAO,CAnGZ,EAmGe,IAG9B,GAtGwB,AAuG/B,EAAG,CAAC,EAAY,EAEhB,CAAA,EANsD,AAMtD,EAzG2C,AAyG3C,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAY,OACjB,IACA,IAAM,EAAK,YAAY,QACvB,MAAO,EADgC,EAC1B,cAAc,EAC7B,EAAG,CAAC,EAAY,EAAe,EAE/B,IAAM,EACJ,CAAC,GAAW,CAAC,IAAU,CAAC,GAAkB,CAApB,AAAqB,EAAe,GAAG,MAAI,EAAe,GAAG,CAAC,MAAM,AAAK,CAAC,CAC5F,EACJ,IACC,CAAC,GAAuC,MAAzC,IAAa,OAAO,EAAQ,QAAQ,EAAiB,EAAQ,QAAQ,CAAG,GAAA,CAAG,CACvE,EAAc,GAAgB,amB7CF,CnB8C9B,CAAoB,EmB9Cc,EnB8CV,KAAK,EAAe,WAAW,IAAG,CAAE,UAAW,EAAK,EmB7CzE,ArBCF,SAAwB,AAAf,CAAwB,CAAE,CAAW,CAAE,CAAO,QAC5D,IAwBI,EAxBE,EAAiB,CAAA,EAAA,EAAA,iBAAA,AAAiB,IAClC,EAAS,GAAS,QAAU,EAAe,MAAM,EAAI,EAAA,aAAa,CAGlE,EAAa,EAAW,EAAW,GAEzC,GAAI,MAAM,GAAa,MAAM,AAAI,WAAW,sBAE5C,IAAM,EAAkB,OAAO,MAAM,CAAC,CAAC,EAAG,EAAS,CACjD,UAAW,GAAS,UACpB,WAAY,CACd,GAEM,CAAC,EAAY,EAAa,CAAG,CAAA,EAAA,EAAA,cAAA,AAAc,EAC/C,GAAS,MACL,EAAa,EAAI,CAAC,EAAa,EAAU,CAAG,CAAC,EAAW,EAAY,EAGpE,EoB9EC,CThCyB,MAAM,CX8GtB,AoB9ES,ET/BlB,AAAC,IAEN,GS6BgC,CT7B1B,EAAS,CADD,EAAS,IAAI,CAAC,EAAO,CAAG,ES8BU,GT9BL,KAAA,AAAK,EAC3B,GAErB,OAAkB,IAAX,EAAe,EAAI,CAC5B,IImBO,AAAC,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,AfqFqB,GerFP,CAAA,EAAA,EAAA,KAAD,CAAC,AAAM,EAAC,AfqFc,EerFd,EKM4B,KpBoF1D,EAAU,KAAK,KAAK,CAAC,AAAC,GAH1B,CAAC,CAAA,EAAA,EAAA,CAGmC,8BAHnC,AAA+B,EAAC,GAC/B,CAAA,EAAA,EAAA,+BAAA,AAA+B,EAAC,EAAA,CAAW,CAC7C,GACoC,CAAe,CAAI,IAIzD,GAAI,EAAU,EACZ,CADe,EACX,GAAS,eACX,CAD2B,EACvB,EAAU,EACZ,CADe,MACR,EAAO,cAAc,CAAC,mBAAoB,EAAG,QAC/C,GAAI,EAAU,GACnB,CADuB,MAChB,EAAO,cAAc,CAAC,mBAAoB,GAAI,QAChD,GAAI,EAAU,GACnB,CADuB,MAChB,EAAO,cAAc,CAAC,mBAAoB,GAAI,QAChD,GAAI,EAAU,GACnB,CADuB,MAChB,EAAO,cAAc,CAAC,cAAe,EAAG,QAC1C,GAAI,EAAU,GACnB,CADuB,MAChB,EAAO,cAAc,CAAC,mBAAoB,EAAG,QAEpD,OAAO,EAAO,cAAc,CAAC,WAAY,EAAG,QAG9C,GAAgB,GAAG,CAAf,EACF,OAAO,EAAO,cAAc,CAAC,mBAAoB,EAAG,QAEpD,OAAO,EAAO,cAAc,CAAC,WAAY,EAAS,GAKjD,GAAI,EAAU,GACnB,CADuB,MAChB,EAAO,cAAc,CAAC,WAAY,EAAS,GAG7C,GAAI,EAAU,GACnB,CADuB,MAChB,EAAO,cAAc,CAAC,cAAe,EAAG,GAG1C,GAAI,EAAU,EAAA,YAAY,CAAE,CACjC,IAAM,EAAQ,KAAK,KAAK,CAAC,EAAU,IACnC,OAAO,EAAO,cAAc,CAAC,cAAe,EAAO,EAGrD,CAAO,GAAI,EA9DoB,KA+D7B,GADmB,IACZ,EAAO,cAAc,CAAC,GADc,KACL,EAAG,QAGpC,GAAI,EAAU,EAAA,cAAc,CAAE,CACnC,IAAM,EAAO,KAAK,KAAK,CAAC,EAAU,EAAA,YAAY,EAC9C,OAAO,EAAO,cAAc,CAAC,QAAS,EAAM,EAG9C,MAAO,GAAI,EAA2B,EAAjB,CAAoB,CAApB,cAAc,CAEjC,OADA,EAAS,KAAK,KAAK,CAAC,EAAU,EAAA,cAAc,EACrC,EAAO,cAAc,CAAC,eAAgB,EAAQ,GAMvD,GAAI,CAHJ,EgBjJK,AhBiJI,SgBjJK,AAAmB,CAAS,CAAE,CAAW,CAAE,CAAO,QGGjC,EHF/B,KGEsC,KAEhC,EHJA,CAAC,EAAY,EAAkB,EAAa,CAAG,CAAA,EAAA,EAAA,cAAA,AAAc,OACjE,EACA,EACA,EACA,GAGI,AANK,EAME,EAAW,EAAkB,GACpC,EAAa,KAAK,GAAG,CACzB,AEPG,SAAS,AAA2B,CAAS,CAAE,CAAW,CAAE,CAAO,EACxE,GAAM,CAAC,EAAY,EAAa,CAAG,CAAA,EAAA,EAAA,cAAA,AAAc,OAC/C,EACA,EACA,GAMF,EARW,KAQJ,AAAY,IAHD,CAGM,CAHK,WAAW,GAAK,EAAa,WAAW,EAAA,GAClD,EAAW,QAAQ,GAAK,EAAa,QAAQ,EAAA,CAGlE,EFJ+B,EAAkB,IAG/C,GAAI,EAAa,EAAG,OAAO,EAES,IAAhC,EAAiB,QAAQ,IAAY,EAAiB,OAAO,GAAK,IACpE,EAAiB,OAAO,CAAC,IAE3B,EAAiB,QAAQ,CAAC,EAAiB,QAAQ,GAAK,EAAO,GAE/D,IAAI,EAAqB,EAAW,EAAkB,KAAkB,CAAC,CFrBlE,AEwBL,CFxBM,EADF,EAAQ,CAAA,EAAA,EAAA,MAAA,AAAM,EEyBD,AFzBE,OAAM,GGKE,MHLO,CADC,AGMD,EAEpC,CADM,EAAQ,CAAA,CHP8B,CGO9B,EAAA,MAAA,AAAM,EAAC,AHLJ,EGKU,GAAS,EHLZ,GGMlB,QAAQ,CAAC,GAAI,GAAI,GAAI,KACpB,IHP8B,CAAC,YKMxB,CADR,EAAQ,CAAA,EAAA,EAAA,MAAA,AAAM,ELL6B,AKK5B,EAAM,GAAS,ELLoB,GKMpC,QAAQ,GAC5B,EAAM,WAAW,CAAC,EAAM,WAAW,GAAI,EAAQ,EAAG,GAClD,EAAM,QAAQ,CAAC,GAAI,GAAI,GAAI,KACpB,IHgBU,IAAf,GACyC,GACzC,CADA,EAAW,EAAY,KAEvB,GAAqB,CAAA,EAGvB,IAAM,EAAS,GAAQ,EAAc,CAAA,CAAf,AAAiC,CACvD,OAAkB,CADkB,GAC7B,EAAe,EAAI,CAC5B,EhBiH8B,EAAc,EAAA,EAG7B,GAAI,CACf,IAAM,EAAe,KAAK,KAAK,CAAC,EAAU,EAAA,cAAc,EACxD,OAAO,EAAO,cAAc,CAAC,UAAW,EAAc,EAGxD,CAAO,CACL,IAAM,EAAyB,EAAS,GAClC,EAAQ,KAAK,KAAK,CAAC,EAAS,WAGlC,AAAI,EAAyB,EACpB,CADuB,CAChB,cAAc,CAAC,cAAe,EAAO,GAG1C,EAAyB,EAC3B,CAD8B,CACvB,cAAc,CAAC,aAAc,EAAO,GAI3C,EAAO,cAAc,CAAC,eAAgB,EAAQ,EAAG,EAE5D,CACF,EqBzGwB,EtB3Df,CAAA,EAAA,CsB2DqB,CtB3DrB,aAAA,AAAa,EsB2DqB,AtB3DpB,EAAM,KAAK,GAAG,IsB2Da,InB8C5C,KAEE,EAAU,GAAgB,QAC1B,EACkC,UAAtC,OAAO,GAAS,kBAAiC,EAAQ,iBAAiB,CAAG,KACzE,EAAgB,GAAgB,gBAAkB,KAClD,EAAa,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,iBAMlB,AALO,CACZ,EAAc,CAAC,UAAU,EAAE,EAAA,CAAa,CAAG,qBAuH/C,AAAI,AAAW,UAAU,EADI,EArHH,GAsHM,CADmB,qBAE/C,AAAW,SAAS,GAAO,0BAChB,YAAY,CAAvB,EAA8B,oBAC3B,KAxHe,OAAlB,EAAyB,CAAC,YAAY,EAAE,EAAqB,GAAA,CAAgB,CAAG,KACjF,CACY,MAAM,CAAC,SAAS,IAAI,CAAC,QACjC,CAAC,EAAa,EAAe,EAAc,EAE9C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iEACpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mCAA0B,oBAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,OAEhD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,QAAQ,KAAK,OAAO,aAAW,UAAU,QAAS,WAChE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,iBAGzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACpB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,CAAC,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,AAAC,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAc,UAAU,kCACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6CACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDAFP,MAQf,CAAC,GAAW,GACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gFACZ,EACD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,KAAK,QAAQ,YAAY,UAAU,OAAO,QAAS,WAAa,iBAMhF,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6EACZ,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uBAAc,2BAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wBAAe,8DAG3B,GAAS,UACR,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,wCAA8B,qBACtB,EAAQ,QAAQ,CAAC,OAAO,CAAC,GAAG,UAKrD,4DAKL,CAAC,GAAW,CAAC,GAAS,GAAgB,KAAK,OAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAe,GAAG,CAAC,GAAG,CAAC,AAAC,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAA4B,KAAM,GAApB,EAAK,OAAO,KAG7B,UAIZ,CAEA,SAAS,EAAS,MAAE,CAAI,CAAmD,EACzE,IAAM,EAAiC,UAAtB,OAAO,EAAK,KAAK,CAC5B,EAAiC,UAAxB,OAAO,EAAK,OAAO,CAE5B,EAD0C,AAC1B,UADF,OAAO,EAAK,WAAW,CACP,CAAA,EAAG,EAAK,WAAW,CAAE,OAAO,CAAC,GAAG,GAAG,CAAC,CAAG,eACrE,EAAW,EAAS,CAAA,EAAG,EAAK,OAAO,CAAC,IAAI,CAAC,CAAG,UAC5C,EAAa,EAAW,EAAK,KAAK,CAAE,OAAO,CAAC,GAAK,YACjD,EAAW,EAAW,CAAA,EAAG,KAAK,GAAG,CAAC,IAAK,KAAK,KAAK,CAAe,IAAd,EAAK,KAAK,GAAU,CAAC,CAAC,CAAG,KAO3E,EAC8B,UAAlC,OAAO,EAAK,iBAAiB,CACzB,EAAqB,EAAK,iBAAiB,EAC3C,KAEN,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,yBACjB,EAAK,SAAS,IAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CACV,EAAc,MAAI,EAAS,MAAI,KAEjC,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CAAgC,YAAU,QAG3D,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,KAAK,KAAK,QAAQ,YAAY,QAzBrB,CAyB8B,IAxBnD,IAAM,EAAI,mBAAmB,CAAA,EAAG,EAAK,SAAS,CAAC,MAAM,CAAC,EACtD,OAAO,IAAI,CAAC,CAAC,gDAAgD,EAAE,EAAA,CAAG,CAAE,SACtE,YAsBqE,WAE7D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,UAAU,uBAG5B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CAAsC,EAAK,MAAM,GAChE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCAAqC,MAAO,CAAE,MAAO,CAAS,QAIrF,CASA,SAAS,EAAqB,CAAW,SACvC,AAAI,GAAO,IAAa,EAAP,OACb,GAAO,IAAa,EAAP,SACb,GAAO,GAAY,EAAP,KACT,OACT,CC/QA,IAAA,EAAA,EAAA,CAAA,CAAA,OAiBA,IACM,EAAA,AADA,iBAAiB,yBAIhB,SAAS,EAAkB,iBAChC,CAAe,kBACf,CAAgB,CACO,EACvB,IAAM,EAAS,CAAA,EAAA,EAAA,MAAA,AAAM,EAAwB,MACvC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAK,EAAO,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAM,MAC9B,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwD,MAClG,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5D,CAAC,EAAsB,EAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3D,EAAa,CAAA,EAAA,EAAA,MAAA,AAAM,EAAQ,EAAE,EAC7B,EAAmB,CAAA,EAAA,EAAA,MAAM,AAAN,EAAsB,MACzC,EAAQ,CAAA,EAAA,EAAA,OAAA,AAAO,EACnB,IAAM,CAAC,GAAoB,EAAE,AAAF,EAAI,MAAM,CAAC,AAAC,GAA6B,UAApB,OAAO,EAAK,GAAG,EAAqC,UAApB,OAAO,EAAK,GAAG,EAC/F,CAAC,EAAiB,EAGd,EAAkB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAEhC,EAAiB,+CAoCrB,EAAG,EAAE,QAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IACO,KAC4B,OAA7B,EAAiB,OAAO,EAAa,UAAU,WAAW,EAAE,AAC9D,UAAU,WAAW,CAAC,UAAU,CAAC,EAAiB,OAAO,CAE7D,GACC,CAAC,EAAgB,EAEpB,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,GAAI,CAAC,GAAoB,CAAC,GAAgB,GAAO,CAAC,EAAO,OAAO,CAAE,OAClE,IAAM,EAAS,OAAO,MAAM,CAC5B,GAAI,CAAC,GAAQ,KAAM,OAEnB,IAAM,EAAoB,GAAmB,EACvC,EAAgB,EAClB,CAAE,IAAK,EAAkB,GAAG,CAAE,IAAK,EAAkB,GAAI,AAAD,EACxD,CAAE,IA9EoB,CA8Ef,MAAoB,IA9EQ,CA8EH,IAAV,CAA6B,EAA1B,AAEvB,EAAW,IAAI,EAF8B,AAEvB,GAF0B,CAEtB,CAAC,GAAG,CAAC,EAAO,OAAO,CAAE,CACnD,OAAQ,EACR,KAAM,GACN,iBAAkB,EACpB,GACM,EAAe,IAAI,EAAO,IAAI,CAAC,YAAY,CAGjD,OAFA,EAAa,MAAM,CAAC,GACpB,EAAO,GACA,KACL,EAAa,MAAM,CAAC,KACtB,CACF,EAAG,CAAC,EAAc,EAAK,EAAiB,EAAa,EAErD,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAK,OACV,IAAM,EAAS,OAAO,MAAM,CAC5B,GAAI,CAAC,GAAQ,KAAM,OAEnB,EAAW,OAAO,CAAC,OAAO,CAAC,AAAC,GAAW,EAAO,MAAM,CAAC,OACrD,EAAW,OAAO,CAAG,EAAE,CAEvB,IAAM,EAAS,IAAI,EAAO,IAAI,CAAC,YAAY,CACvC,GAAY,EAEV,EAAoB,GAAmB,EAC7C,GAAI,EAAmB,CACrB,IAAM,EAAS,IAAI,EAAO,IAAI,CAAC,MAAM,CAAC,CACpC,MACA,SAAU,CAAE,IAAK,EAAkB,GAAG,CAAE,IAAK,EAAkB,GAAG,AAAC,EACnE,MAAO,MACP,KAAM,CACJ,KAAM,EAAO,IAAI,CAAC,UAAU,CAAC,MAAM,CACnC,MAAO,EACP,UAAW,UACX,YAAa,EACb,YAAa,UACb,aAAc,CAChB,CACF,GACA,EAAW,OAAO,CAAC,IAAI,CAAC,GACxB,EAAO,MAAM,CAAC,EAAO,WAAW,IAChC,GAAY,EACZ,EAAI,KAAK,CAAC,EAAO,WAAW,GAC9B,CAEA,EAAM,OAAO,CAAC,CAAC,EAAM,KACnB,IAAM,EAAS,IAAI,EAAO,IAAI,CAAC,MAAM,CAAC,KACpC,EACA,SAAU,CAAE,IAAK,EAAK,GAAG,CAAE,IAAK,EAAK,GAAG,AAAC,EACzC,MAAO,CAAA,EAAG,EAAM,EAAA,CAAG,CACnB,MAAO,EAAK,SAAS,AACvB,GACA,EAAW,OAAO,CAAC,IAAI,CAAC,GACxB,EAAO,MAAM,CAAC,EAAO,WAAW,IAChC,GAAY,CACd,GAEI,GACF,EAAI,MADS,GACA,CAAC,EAAQ,GAE1B,EAAG,CAAC,EAAK,EAAO,EAAiB,EAAa,EAgB5C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,sBACd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,sBACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,mCAA0B,qBAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,uEAI/C,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,sBACpB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEACZ,IAGL,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,UACR,KAAK,KACL,QAAS,EACT,SAAU,WAET,EAAuB,yBAA2B,8BAGvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,iDAAiD,IAAK,IACpE,EAAM,MAAM,CAAG,EACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACZ,EAAM,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,CAAC,EAAM,IAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WAAuB,IACpB,EAAM,EAAE,IAAE,EAAK,SAAS,CAAC,KAAG,EAAK,OAAO,CAAC,OAAO,CAAC,GAAG,QAAM,IAC3D,EAAK,WAAW,CAAC,OAAO,CAAC,GAAG,QAFrB,EAAK,OAAO,KAO1B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,kEAKjD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CACL,GAAG,iBACH,IAAK,CAAC,4CAA4C,EAAE,EAAiB,wBAAwB,CAAC,CAC9F,SAAS,aACT,OAAQ,IAAM,GAAgB,OAItC,CCzNA,IAAA,EAAA,EAAA,CAAA,CAAA,OAQA,IAAM,EAA2F,CAC/F,CAAE,KAAM,mBAAoB,MAAO,aAAc,QAAS,SAAU,EACpE,CAAE,KAAM,eAAgB,MAAO,eAAgB,QAAS,WAAY,EACpE,CAAE,KAAM,iBAAkB,MAAO,iBAAkB,QAAS,SAAU,EACtE,CAAE,KAAM,oBAAqB,MAAO,oBAAqB,QAAS,OAAQ,EAC3E,CAQM,SAAS,EAAa,SAAE,CAAO,CAAqB,EACzD,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,OACnD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAqB,MAC7D,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACvC,EAAe,EAAkB,AAAD,GAAO,EAAE,YAAY,EAErD,EAAa,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACzB,AAAK,EACE,CAAA,CADH,CACM,EAAQ,EADJ,CACO,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,EAAQ,GAAG,CAAC,OAAO,CAAC,GAAA,CAAI,CADxC,cAEpB,CAAC,EAAQ,EAEN,EAAe,UACnB,GAAI,CAAC,EAAa,OAClB,GAAc,GACd,IAAM,EAA+C,CACnD,WAAY,EAAY,IAAI,UAC5B,CACF,EACI,IACuB,KADd,aACgC,CAAvC,EAAY,IAAI,EAClB,EAAQ,QAAQ,CAAG,EAAQ,GAAG,CAC9B,EAAQ,QAAQ,CAAG,EAAQ,GAAG,GAE9B,EAAQ,UAAU,CAAG,EAAQ,GAAG,CAChC,EAAQ,UAAU,CAAG,EAAQ,GAAG,GAGpC,GAAM,OAAE,CAAK,CAAE,CAAG,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAC,GACtC,GAAc,GACd,EAAe,MACX,EACF,EAAA,GADS,EACJ,CAAC,KAAK,CAAC,EAAM,OAAO,GAEzB,EAAA,KAAK,CAAC,OAAO,CAAC,CAAA,EA2FpB,AA3FuB,SA2Fd,AAAa,CAAyB,EAC7C,OAAQ,GACN,IAAK,mBACH,MAAO,SACT,KAAK,eACH,MAAO,YACT,KAAK,iBACH,MAAO,iBACT,KAAK,oBACH,MAAO,cACT,SACE,MAAO,OACX,CACF,EAxGoC,EAAY,IAAI,EAAE,OAAO,CAAC,EACxD,AA2EN,SAAS,AAAmB,CAAuB,CAAE,CAAqC,EACxF,OAAQ,GACN,IAAK,eACH,GAAa,GACb,MACF,KAAK,iBACL,IAAK,oBACL,IAAK,mBACH,GAAa,GACb,MACF,SACE,MACJ,CACF,EAxFyB,EAAY,IAAI,CAAE,GAEzC,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDAA0C,qBACvD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4DACZ,CAAC,MAAO,OAAO,CAAC,GAAG,CAAC,AAAC,GACpB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAM,EAAY,GAC3B,UAAW,CAAC,mEAAmE,EAC7E,IAAa,EACT,kCACA,wBAAA,CACJ,UAED,GATI,SAcb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,aACH,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,UAIlD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,EAAO,GAAG,CAAC,AAAC,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAEL,UAA0B,qBAAf,EAAM,IAAI,CAA0B,4BAA8B,OAC7E,QAAS,EAAM,OAAO,CACtB,QAAS,IAAM,EAAe,YAE7B,EAAM,KAAK,EALP,EAAM,IAAI,KAUrB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAgC,qHAI5C,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA8C,mBAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,kCAA0B,EAAY,KAAK,GACzD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+CAAqC,aACtC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kCAA0B,OAEtD,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0CAAgC,aACjC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uBAAe,OAE3C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,UAAU,SAAS,QAAS,IAAM,EAAe,eAAO,WAGlF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,SAAS,QAAS,EAAc,SAAU,WACzD,EAAa,UAAY,sBAQ1C,CCpIA,IAAA,EAAA,EAAA,CAAA,CAAA,OAOO,SAAS,EAAiB,UAAE,CAAQ,YAAE,CAAU,CAAyB,EAC9E,IAAI,EAAQ,EAAa,uBAAyB,cAC9C,EAAO,iCAEX,GAAwB,UAApB,OAAO,GAAyB,OAAO,QAAQ,CAAC,GAAW,CAC7D,IAAM,EAAU,KAAK,GAAG,CAAC,EAAG,KAAK,KAAK,CAAC,IACnC,GAAW,IAAI,AACjB,EAAQ,CAAC,KAAK,EAAE,EAAQ,UAAU,CAAC,CACnC,EAAO,mCACE,GAAW,KAAK,AACzB,EAAQ,CAAC,KAAK,EAAE,EAAQ,MAAM,CAAC,CAC/B,EAAO,gCAEP,EAAQ,CAAC,KAAK,EAAE,EAAQ,wBAAwB,CAAC,CACjD,EAAO,4BAEX,MAAW,CAAJ,GACL,EAAO,MADc,0BACd,EAGT,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,2DAA4D,YAC5E,GAGP,CElCA,IAAM,EAAgB,CAAC,EAAQ,IAAiB,EAAa,IAAI,CAAE,AAAD,GAAO,aAAkB,GAwBrF,EAAqB,IAAI,QACzB,EAAiB,IAAI,QACrB,EAAwB,IAAI,QAgD9B,EAAgB,CAChB,IAAI,CAAM,CAAE,CAAI,CAAE,CAAQ,EACtB,GAAI,aAAkB,eAAgB,CAElC,GAAa,SAAT,EACA,OAAO,EAAmB,GAAG,CAAC,GAElC,GAAa,SAAS,CAAlB,EACA,OAAO,EAAS,gBAAgB,CAAC,EAAE,CAC7B,OACA,EAAS,WAAW,CAAC,EAAS,gBAAgB,CAAC,EAAE,CAE/D,CAEA,OAAO,EAAK,CAAM,CAAC,EAAK,CAC5B,EACA,KAAI,EAAQ,EAAM,EAAR,AAAM,GAAO,AACnB,CAAM,CAAC,EAAK,CAAG,EACR,QAEX,CAAI,EAAQ,IAAF,AAAM,AACZ,AAAI,aAAkB,iBACR,CAAV,QAAC,GAA4B,UAAT,CAAS,CAAO,EAGjC,CAHoC,IAG5B,CAEvB,EAsCA,SAAS,EAAK,CAAK,EAGf,GAAI,aAAiB,gBAlHf,EAmHF,OAAO,EAnHK,IAAI,QAAQ,CAAC,EAAS,KAClC,IAAM,EAAW,KACb,EAAQ,mBAAmB,CAAC,UAAW,GACvC,EAAQ,mBAAmB,CAAC,QAAS,EACzC,EACM,EAAU,KACZ,EAAQ,EAAK,EAAQ,MAAM,GAC3B,GACJ,EACM,EAAQ,KACV,EAAO,EAAQ,KAAK,EACpB,GACJ,EACA,EAAQ,gBAAgB,CAAC,UAAW,GACpC,EAAQ,gBAAgB,CAAC,QAAS,EACtC,GAGA,EAAsB,GAAG,CAAC,EAiGE,GAhGrB,CAgGqB,CAG5B,EApGmC,CAoG/B,EAAe,GAAG,CAAC,GACnB,OAAO,EAAe,GAAG,CAAC,GAC9B,IAAM,EArBV,AAqBqB,SArBW,AAAvB,CAA4B,EACjC,GAAI,AAAiB,mBAAV,EACP,MAhBJ,AAAI,CAgBO,AAhHH,IACH,EAAuB,CACpB,UAAU,OADd,EACuB,CAAC,OAAO,CAC3B,UAAU,SAAS,CAAC,QAAQ,CAC5B,UAAU,SAAS,CAAC,kBAAkB,EACzC,EA2FyB,QAAQ,CAgBd,AAhBe,GAC5B,IADmC,KACzB,GAAG,CAAI,EAIpB,OADA,EAAK,KAAK,CAAC,EAAO,IAAI,EAAG,GAClB,EAAK,IAAI,CAAC,OAAO,CAC5B,EAEG,SAAU,GAAG,CAAI,EAGpB,OAAO,EAAK,EAAK,KAAK,CAAC,EAAO,IAAI,EAAG,GACzC,QASA,CAFI,aAAiB,gBAnFzB,AAoFQ,SApFC,AAA+B,CAAE,EAEtC,GAAI,EAAmB,GAAG,CAAC,GACvB,OACJ,IAAM,EAAO,IAAI,QAAQ,CAAC,EAAS,KAC/B,IAAM,EAAW,KACb,EAAG,mBAAmB,CAAC,WAAY,GACnC,EAAG,mBAAmB,CAAC,QAAS,GAChC,EAAG,mBAAmB,CAAC,QAAS,EACpC,EACM,EAAW,KACb,IACA,GACJ,EACM,EAAQ,KACV,EAAO,EAAG,KAAK,EAAI,IAAI,aAAa,aAAc,eAClD,GACJ,EACA,EAAG,gBAAgB,CAAC,WAAY,GAChC,EAAG,gBAAgB,CAAC,QAAS,GAC7B,EAAG,gBAAgB,CAAC,QAAS,EACjC,GAEA,EAAmB,GAAG,CAAC,EAAI,EAC/B,EA4DuC,GAC/B,EAAc,EAhIV,IACH,CA+HoB,CA/HA,CACjB,YACA,EAFJ,SAgIA,IA7HI,SACA,UACA,eACH,IA0HM,IAAI,MAAM,EAAO,GAErB,CACX,EAU4C,GAOxC,OAJI,IAAa,IACb,EAAe,CADK,EACF,CAAC,EAAO,GAC1B,EAAsB,GAAG,CAAC,EAAU,IAEjC,CACX,CACA,IAAM,EAAS,AAAC,GAAU,EAAsB,GAAG,CAAC,GAgD9C,EAAc,CAAC,MAAO,SAAU,SAAU,aAAc,QAAQ,CAChE,EAAe,CAAC,MAAO,MAAO,SAAU,QAAQ,CAChD,EAAgB,IAAI,IAC1B,SAAS,EAAU,CAAM,CAAE,CAAI,EAC3B,GAAI,CAAC,CAAC,aAAkB,aACpB,CAAC,CAAC,KAAQ,CAAA,CAAM,EAChB,AAAgB,iBAAT,CAAS,CAAQ,CACxB,EAD2B,KAG/B,GAAI,EAAc,GAAG,CAAC,GAClB,OAAO,EAAc,GAAG,CAAC,GAC7B,IAAM,EAAiB,EAAK,OAAO,CAAC,aAAc,IAC5C,EAAW,IAAS,EACpB,EAAU,EAAa,QAAQ,CAAC,GACtC,GAEA,CADA,AACC,CAAC,IAAkB,CAAC,EAAW,SAAW,cAAA,CAAc,CAAE,SAAA,AAAS,GAChE,CAAC,CAAC,GAAW,EAAY,QAAQ,CAAC,EAAA,CAAe,CACjD,EADoD,KAGxD,IAAM,AALsE,EAK7D,eAAgB,CAAS,CAAE,GAAG,CAAI,EAE7C,IAAM,EAAK,IAAI,CAAC,WAAW,CAAC,EAAW,EAAU,YAAc,YAC3D,EAAS,EAAG,KAAK,CAQrB,OAPI,IACA,EAAS,EAAO,KAAK,CAAC,EAAK,KAAK,GAAA,EAM7B,CAAC,MAAM,QAAQ,GAAG,CAAC,CACtB,CAAM,CAAC,EAAe,IAAI,GAC1B,GAAW,EAAG,IAAI,EACrB,CAAC,AAAC,CAAC,EAAE,AACV,EAEA,OADA,EAAc,GAAG,CAAC,EAAM,GACjB,CACX,GAC4B,IAAd,GACV,CACA,EADG,EACE,CAAC,EAFiB,AAET,EAAM,CADT,GACsB,EAAU,EAAQ,IAAS,EAAS,GAAG,CAAC,EAAQ,EAAM,GACvF,IAAK,CAAC,EAAQ,IAAS,CAAC,CAAC,EAAU,EAAQ,IAAS,EAAS,GAAG,CAAC,EAAQ,EAC7E,CAAC,CAED,IAAM,EAAqB,CAAC,WAAY,qBAAsB,UAAU,CAClE,EAAY,CAAC,EACb,EAAiB,IAAI,QACrB,EAAmC,IAAI,QACvC,EAAsB,CACxB,IAAI,CAAM,CAAE,CAAI,EACZ,GAAI,CAAC,EAAmB,QAAQ,CAAC,GAC7B,OAAO,CAAM,CAAC,EAAK,CACvB,IAAI,EAAa,CAAS,CAAC,EAAK,CAMhC,OALI,AAAC,GACD,GAAa,CAAS,CAAC,EAAK,CAAG,CADlB,QAC4B,GAAG,CAAI,EAC5C,EAAe,GAAG,CAAC,IAAI,CAAE,EAAiC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAK,IAAI,IACjF,EAEG,CACX,CACJ,EACA,eAAgB,EAAQ,GAAG,CAAI,EAE3B,IAAI,EAAS,IAAI,CAIjB,GAHI,AAAE,CAAD,YAAmB,SAAS,GAAG,AAChC,EAAS,MAAM,EAAO,UAAU,IAAI,EAAA,EAEpC,CAAC,EACD,OAEJ,IAAM,EAAgB,IAAI,MAAM,EAAQ,GAIxC,IAHA,EAAiC,GAAG,CAAC,EAAe,GAEpD,EAAsB,GAAG,CAAC,EAAe,EAAO,IACzC,GACH,IADW,EACL,EAEN,EAAS,MAAM,CAAC,EAAe,GAAG,CAAC,IAAkB,EAAO,QAAQ,EAAA,CAAE,CACtE,EAAe,MAAM,CAAC,EAE9B,CACA,SAAS,EAAe,CAAM,CAAE,CAAI,EAChC,OAAS,IAAS,OAAO,aAAa,EAClC,EAAc,EAAQ,CAAC,SAAU,eAAgB,UAAU,GACjD,YAAT,GAAsB,EAAc,EAAQ,CAAC,SAAU,eAAe,CAC/E,CA5LI,EA6LwB,IAAd,EA7Le,CA8LzB,GAAG,EACH,CAAI,CA/LY,CA6LO,AAEX,EAAM,CADP,CACD,AAAM,EACZ,AAAI,EAAe,EADG,AACK,GAChB,EACJ,EADH,AACY,GAAG,CAAC,EAAQ,EAAM,GAEtC,KAAI,EAAQ,IAAF,AAAM,AACL,EAAe,EAAQ,IAAS,EAAS,GAAG,CAAC,EAAQ,EAEpE,CAAC,CK3SD,IAAM,EAAQ,SAEd,eAAe,IACb,OLgKF,AKhKS,OAAO,ELgKA,AAAP,CAAW,CAAE,CAAO,CAAE,SAAE,CAAO,SAAE,CAAO,UAAE,CAAQ,YAAE,CAAU,CAAE,CAAG,CAAC,CAAC,EAC1E,IAAM,EAAU,UAAU,IAAI,CAAC,KACzB,CAD+B,CACjB,EAAK,GAoBzB,OAnBI,GACA,EAAQ,IADC,YACe,CAAC,gBAAiB,AAAC,IACvC,EAAQ,EAAK,EAAQ,MAAM,EAAG,EAAM,UAAU,CAAE,EAAM,UAAU,CAAE,EAAK,EAAQ,WAAW,EAAG,EACjG,GAEA,GACA,EAAQ,IADC,YACe,CAAC,UAAW,AAAC,GAAU,EAE/C,EAAM,IADN,MACgB,CAAE,EAAM,UAAU,CAAE,IAExC,EACK,IAAI,CAAC,AAAC,IACH,GACA,EAAG,gBAAgB,CAAC,QAAS,IAAM,KACnC,GACA,EAAG,KADO,CAPuE,UAQ9D,CAAC,gBAAkB,AAAD,GAAW,EAAS,EAAM,UAAU,CAAE,EAAM,UAAU,CAAE,GAErG,GACK,KAAK,CAAC,KAAQ,GACZ,CACX,EK3LW,UAIS,EAAG,CACnB,QAAQ,CAAe,EACrB,EAAE,iBAAiB,CAAC,EAAO,CAAE,QAAS,KAAM,eAAe,CAAK,EAClE,CACF,EACF,CAEO,eAAe,GAAQ,CAAM,EAClC,CAAC,MAAM,GAAA,CAAI,CAAE,GAAG,CAAC,EAAO,CAAE,GAAG,CAAC,CAAE,WAAY,KAAK,GAAG,EAAG,EACzD,CHVA,IAAM,GAAW,CAAA,EAFjB,AAEiB,EAFjB,CAAA,CAAA,OAEiB,2BAAA,AAA2B,ICM5C,IAAA,GAAA,EAAA,CAAA,CAAA,OAEe,SAAS,KACtB,QFIM,EACA,MAGA,MAGA,MAGA,UAMA,IA4BA,EAWA,EAmEA,EA4BA,ME1JA,GFEA,EAAa,EAAiB,AAAC,GAAM,CEF1B,CFE4B,UAAU,EACjD,EAAmB,EAAiB,AAAC,GAAM,EAAE,gBAAgB,IACnD,EAAiB,AAAC,GAAM,EAAE,OAAO,IAC9B,EAAiB,AAAC,GAAM,EAAE,UAAU,EACjD,EAAqB,EAAiB,AAAC,GAAM,EAAE,kBAAkB,EACjE,EAAQ,EAAkB,AAAD,GAAO,EAAE,KAAK,IACpB,EAAiB,AAAC,GAAM,EAAE,gBAAgB,EAC7D,EAAgB,EAAiB,AAAC,GAAM,EAAE,aAAa,EACvD,EAAsB,EAAiB,AAAC,GAAM,EAAE,mBAAmB,IACtD,EAAiB,AAAC,GAAM,EAAE,UAAU,EACjD,EAAgB,EAAiB,AAAC,GAAM,EAAE,aAAa,EACvD,EAAoB,EAAiB,AAAC,GAAM,EAAE,iBAAiB,IACpD,EAAiB,AAAC,GAAM,EAAE,QAAQ,EAC7C,EAAsB,EAAkB,AAAD,GAAO,EAAE,mBAAmB,EACnE,EAAU,CAAA,EAAA,EAAA,MAAA,AAAM,EAAgB,MAChC,EAAoB,CAAA,EAAA,EAAA,MAAM,AAAN,EAAe,GACnC,EAAwB,CAAA,EAAA,EAAA,MAAM,AAAN,EAAmC,QAE3B,CAAA,EAAA,EAAA,WAAW,AAAX,EAAY,UAChD,GAAI,CACF,GAAI,UAAU,WAAW,EAAE,MAAO,CAChC,IAAM,EAAS,MAAM,UAAU,WAAW,CAAC,KAAK,CAC9C,CAAE,KAAM,aAAc,GAExB,EAAoB,EAAO,KAAK,EAChC,EAAO,QAAQ,CAAG,IAAM,EAAoB,EAAO,KAAK,CAC1D,MACE,CADK,CACe,cAExB,CAAE,MAAO,EAAK,CACZ,QAAQ,IAAI,CAAC,0BAA2B,GACxC,EAAoB,cACtB,CACF,EAAG,CAAC,EAAoB,EAExB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GACF,EAAG,CAAC,EAA8B,EAE5B,EAAY,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACJ,OAApB,EAAQ,OAAO,EAAkC,aAArB,OAAO,WAA6B,UAAU,WAAW,EAAE,CACzF,UAAU,WAAW,CAAC,UAAU,CAAC,EAAQ,OAAO,EAChD,EAAQ,OAAO,CAAG,KAEtB,EAAG,EAAE,IAEqB,CAAA,EAAA,EAAA,WAAA,AAAW,EACnC,CAAC,EAA+C,KAC9C,EAAc,GACV,GACF,EAAkB,GAEpB,EAAS,KACX,CAJsB,CAKtB,CAAC,EAAe,EAAmB,EAAS,IAG7B,CAAA,EAAA,EAAA,WAAA,AAAW,EAC1B,MAAO,QAwLa,CAAyB,GAvL3C,MA0LE,EACA,EACA,EACA,EA7LI,EACJ,AAAoC,iBAA7B,EAAS,MAAM,CAAC,QAAQ,CAAgB,EAAS,MAAM,CAAC,QAAQ,CAAG,KAC5E,GAAI,CAAC,OAAO,QAAQ,CAAC,IAA0B,OAAb,GAAqB,EAnEjC,IAmEiE,KAArB,OAChE,EAAS,gEAIX,IAAM,EAC6B,UAAjC,OAAO,EAAS,MAAM,CAAC,KAAK,EAAiB,OAAO,QAAQ,CAAC,EAAS,MAAM,CAAC,KAAK,EACtD,IAAxB,EAAS,MAAM,CAAC,KAAK,CACrB,KAEN,EAAW,CACT,IAAK,EAAS,MAAM,CAAC,QAAQ,CAC7B,IAAK,EAAS,MAAM,CAAC,SAAS,UAC9B,EACA,MAAO,EACP,UAAW,EAAS,SAAS,AAC/B,GACA,EAAS,MAET,IAAM,EAAM,KAAK,GAAG,GACd,EAAO,EAAsB,OAAO,CACtC,GAAmB,EASvB,GAPE,GACgC,UAAhC,OAAO,EAAK,MAAM,CAAC,QAAQ,EAC3B,OAAO,QAAQ,CAAC,EAAK,MAAM,CAAC,QAAQ,GACpC,CACA,EAAmB,GA7FS,GA6FG,EAAK,MAAM,CAAC,QAAQ,AAAG,EAItD,CAJsD,EAhGnC,AAqGnB,IArGuB,EAqGR,EAAK,KArGY,CAqGN,CAqJiB,CAAyB,CArJxC,EAAS,MAAM,CAuJ3C,EAAQ,CAvJuC,CAuJrC,QAAQ,CAAG,KAAK,EAAE,CAAI,MAErB,GADH,EAAE,QAAQ,CAAG,KAAK,EAAE,CAAI,KACd,EAMjB,AADG,EAAI,EACH,GADQ,KAAK,CAAC,KAAK,IAAI,CAAC,EAFjC,KAAK,GAAG,CAAC,EAAW,GAAK,KAAK,GAAG,CAAC,EAAW,GAC7C,KAAK,GAAG,CAAC,GAAQ,KAAK,GAAG,CAAC,GAAQ,KAAK,GAAG,CAAC,GAH3B,CAAC,EAAE,SAAS,CAAG,EAAE,SAAA,AAAS,EAAI,KAAK,EAAE,CAAI,KAGH,GAAK,KAAK,GAAG,CAAC,EAAW,IAC1C,KAAK,IAAI,CAAC,EAAI,IAR3C,SArJJ,EAAM,EAAkB,OAAO,CArGf,EAqGkB,GAClC,CAAC,EAED,OAGF,EAAsB,OAJpB,AAI2B,CAAG,EAChC,EAAkB,OAAO,CAAG,EAE5B,IAAM,EAAU,CACd,IAAK,EAAS,MAAM,CAAC,QAAQ,CAC7B,IAAK,EAAS,MAAM,CAAC,SAAS,CAC9B,GAAI,IAAI,KAAK,EAAS,SAAS,EAAE,WAAW,GAC5C,WAAY,EACZ,UAAW,QAAY,CACzB,EAEM,MAAE,CAAI,OAAE,CAAK,CAAE,CAAG,MAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACvC,GAAI,EAAO,CACT,EAAS,EAAM,OAAO,EACtB,MAAM,GAAQ,GACd,EAAA,KAAK,CAAC,KAAK,CAAC,mDACZ,MACF,CAEA,EAAkB,GAAM,gBAAkB,KAAM,EAAQ,EAAE,EAAI,IAAI,OAAO,WAAW,GACtF,EACA,CAAC,EAAY,EAAmB,EAAS,IAGjB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACpC,GAAI,CACF,GAAM,OAAE,CAAK,CAAE,CAAG,MAAM,UAAU,WAAW,CAAC,KAAK,CACjD,CAAE,KAAM,aAAc,GAGxB,GADA,EAAoB,GACN,UAAU,CAApB,EAEF,OADA,EAAA,KAAK,CAAC,KAAK,CAAC,+DACL,EAYT,MAVc,UAAU,CAApB,IACF,MAAM,IAAI,QAA6B,CAAC,EAAS,KAC/C,UAAU,WAAW,CAAC,kBAAkB,CAAC,EAAS,EAAQ,CACxD,oBAAoB,EACpB,QAAS,KACT,WAAY,CACd,EACF,GACA,EAAoB,aAEf,CACT,CAAE,MAAO,EAAO,CAGd,OAFA,QAAQ,KAAK,CAAC,4BAA6B,GAC3C,EAAoB,gBACb,CACT,CACF,EAAG,CAAC,EAAoB,IAED,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,UACjC,GAAI,EAAY,CACd,IACA,GAAc,GACd,MACF,CAEgB,AAChB,IAAI,CAAC,CADiB,IAMtB,GAAc,CALA,EACZ,EAAS,iDAKb,EAAG,CAAC,EAAY,EAAmB,EAAW,EAAe,EAAS,EAEtE,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,CAAC,GAAc,IACZ,IACL,GAAoB,GAExB,EAAG,CAAC,CAJmC,CAIvB,EAAkB,EAAgB,EAAoB,EAEtE,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,EAAY,YACf,IAIF,GAAyB,aAArB,OAAO,WAA6B,CAAC,UAAU,WAAW,CAAE,CAC9D,EAAS,iDACT,EAAA,KAAK,CAAC,KAAK,CAAC,gDACZ,GAAc,GACd,MACF,CAuBA,OArBA,EAAQ,OAAO,CAAG,UAAU,WAAW,CAAC,aAAa,CACnD,AAAC,GAAQ,EAAS,GACjB,AAAD,IACE,QAAQ,KAAK,CAAC,sBAAuB,GACrC,IAAM,EAAW,AA+DzB,SAAS,AAAiB,CAA6B,EACrD,OAAQ,EAAI,IAAI,EACd,KAAK,EAAI,iBAAiB,CACxB,MAAO,iEACT,MAAK,EAAI,oBAAoB,CAC3B,MAAO,oEACT,MAAK,EAAI,OAAO,CACd,MAAO,+DACT,SACE,OAAO,EAAI,OAAO,EAAI,oCAC1B,CACF,EA1E0C,GAClC,EAAS,GACL,EAAI,IAAI,GAAK,EAAI,iBAAiB,EACpC,AADsC,EACxB,IACd,EAAoB,UACpB,EAAA,KAAK,CAAC,KAAK,CAAC,yDAEZ,EAAA,KAAK,CAAC,KAAK,CAAC,EAEhB,EACA,CACE,oBAAoB,EACpB,WAAY,EACZ,QAAS,IACX,GAGK,IAAM,GACf,EAAG,CAAC,EAAY,EAAU,EAAW,EAAU,EAAe,EAAoB,EAElF,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,SAAS,IACP,EAAS,KACX,CAEA,OADA,OAAO,gBAAgB,CAAC,SAAU,GAC3B,IAAM,OAAO,mBAAmB,CAAC,SAAU,EACpD,EAAG,CAAC,EAAS,EAGP,EACQ,OAAZ,GAC4B,UAA5B,OAAO,EAAQ,QAAQ,EACvB,OAAO,QAAQ,CAAC,EAAQ,QAAQ,GAChC,EAAQ,QAAQ,EAAI,IAEhB,EAAqB,GAAc,CAAC,EAEnC,YACL,mBACA,UACA,aACA,qBACA,EACA,uBACA,cACA,qBACA,CACF,GEhPM,EAAU,ADRX,SAAS,EACd,GAAM,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkD,MAuBxF,MArBA,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,IAAI,GAAS,EAeb,OADA,AAbA,eAAe,EACb,GAAM,CACJ,KAAM,MAAE,CAAI,CAAE,CACf,CAAG,MAAM,GAAS,IAAI,CAAC,OAAO,GAC/B,GAAI,CAAC,EAAM,OACX,GAAM,MAAE,CAAI,CAAE,CAAG,MAAM,GACpB,IAAI,CAAC,YACL,MAAM,CAAC,gBACP,EAAE,CAAC,KAAM,EAAK,EAAE,EAChB,WAAW,GACT,GACL,EAAW,CAAE,EADA,CACI,EAAK,EAAE,CAAE,UAAW,GAAM,WAAa,EAAK,aAAa,EAAE,WAAa,IAAK,EAChG,IAEO,KACL,GAAS,CACX,CACF,EAAG,EAAE,EAEE,CACT,IChBQ,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,GAAA,aAAA,AAAa,IAEzB,EAAW,GAAS,UAAY,CAAC,IAAI,EAAE,EAAQ,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CAAA,CAAE,CAAG,YAC3E,EAAW,CAAC,QAAQ,EAAE,EAAM,UAAU,CAAC,UAAU,EAAE,EAAM,aAAa,CAAC,OAAO,CAAC,GAAA,CAAI,CAExE,EAAS,WAAW,CACrC,IAAM,EAAgB,EAAS,kBAAkB,CAEjD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,MAAO,EAAU,SAAU,WACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8EAOb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yDAMb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,WAAY,EAAS,UAAU,CAC/B,SAAU,EAAS,OAAO,EAAE,UAAY,OAEzC,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCAAyB,8BAO9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,WAAY,EAAS,UAAU,CAAE,mBAAoB,EAAS,kBAAkB,GAEhG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACC,gBAAiB,EAAS,OAAO,CACjC,iBAAkB,EAAS,kBAAkB,EAAE,KAAO,OAGxD,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,sBACjB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,iCAAwB,iBACtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,QAAS,EAAS,OAAO,UAKjD","ignoreList":[0,1,2,3,4,5,7,8,9,15,19,21,22,23,24,25,26,27,28,29]}